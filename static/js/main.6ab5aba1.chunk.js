(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,n,t){e.exports=t(61)},27:function(e,n,t){},51:function(e,n,t){},53:function(e,n,t){},55:function(e,n,t){},57:function(e,n,t){},59:function(e,n,t){},61:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),s=t(19),c=t.n(s),i=(t(27),t(9)),o=t(1),u=t(10),l=t(4),d=t(5),m=t(8),f=t(6),p=t(7),v=t(2),h=t(20),b=t.n(h),C=t(21),y=t.n(C),E=(t(51),function(e){var n=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e),t=Object(i.a)(n,4),r=t[1],a=t[2];return 60*(("p"===t[3]?12:0)+Number.parseInt(r%12))+Number.parseInt(a)}),O=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=e/60|0,r=e%60;return"".concat(t>12?t-12:t,":").concat(r<10?"0"+r:r).concat(n?" ".concat(t<12?"a":"p","m"):"")},j=function(e){return e?"".concat(O(e.start,!1)," - ").concat(O(e.end)):"TBA"},g=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(function(e){return e}).join(" ")},N=(t(53),function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(m.a)(this,Object(f.a)(n).call(this,e))).state={expanded:!1},t}return Object(p.a)(n,e),Object(d.a)(n,[{key:"handleToggleExpanded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.expanded;this.setState({expanded:e})}},{key:"render",value:function(){var e=this,n=this.props,t=n.course,r=n.expandable,s=n.onClick,c=n.onRemove,i=n.onTogglePinned,o=n.onToggleExcluded,u=n.onSetOverlayCrns,l=n.pinnedCrns,d=n.excludedCrns,m=this.state.expanded;return a.a.createElement("div",{className:"Course",style:{backgroundColor:t.color},key:t.id,onClick:s},a.a.createElement("div",{className:"course-header",onClick:r?function(){return e.handleToggleExpanded()}:void 0},a.a.createElement("div",{className:"row"},a.a.createElement("span",{className:"course_id"},t.id),a.a.createElement("span",{className:"section_ids"},Object.values(t.sections).filter(function(e){return l.includes(e.crn)}).map(function(e){return e.id}).join(", "))),a.a.createElement("div",{className:"row"},a.a.createElement("span",{className:"course_title",dangerouslySetInnerHTML:{__html:t.title}}),r&&a.a.createElement("span",{className:"toggle"},m?"-":"+"))),m&&a.a.createElement("div",{className:"sections"},Object.values(t.sections).map(function(e){var n=d.includes(e.crn),t=l.includes(e.crn);return a.a.createElement("div",{className:g("section",n&&"excluded",t&&"pinned"),key:e.id,onClick:function(){return i(e)},onMouseEnter:function(){return u([e.crn])},onMouseLeave:function(){return u([])}},a.a.createElement("div",{className:"section-header"},a.a.createElement("span",{className:"section_id"},e.id),a.a.createElement("span",{className:"instructors"},e.instructors.join(", "))),!n&&a.a.createElement("div",{className:"meetings"},e.meetings.map(function(e,n){return a.a.createElement("div",{className:"meeting",key:n},a.a.createElement("span",{className:"days"},e.days.join("")),a.a.createElement("span",{className:"period"},j(e.period)))})),a.a.createElement("div",{className:"actions"},a.a.createElement("div",{className:"exclude",onClick:function(n){n.stopPropagation(),o(e)}},n?"Include":"Exclude")))})),m&&a.a.createElement("div",{className:"actions section-actions"},a.a.createElement("div",{className:"dim",onClick:function(){return c(t)}},"Remove")))}}]),n}(r.Component)),k=(t(55),t(57),function(e){function n(){return Object(l.a)(this,n),Object(m.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.section,t=e.overlay,r=e.preview;return a.a.createElement("div",{className:g("Section",t&&"overlay")},n.meetings.map(function(e,n){return e.period&&e.days.map(function(t){return a.a.createElement("div",{className:"meeting ".concat(t),key:[n,t].join("-"),style:{top:(e.period.start-480)/780*100+"%",height:(e.period.end-e.period.start)/780*100+"%",backgroundColor:e.course.color}},!r&&a.a.createElement("div",{className:"meeting-wrapper"},a.a.createElement("span",{className:"course_id"},e.course.id," ",e.section.id),a.a.createElement("span",{className:"period"},j(e.period)),a.a.createElement("span",{className:"where"},e.where),a.a.createElement("span",{className:"instructors"},e.instructors.join(", "))))})}))}}]),n}(r.Component)),x=function(e){function n(){return Object(l.a)(this,n),Object(m.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.className,t=e.pinnedCrns,r=e.overlayCrns,s=e.crns,c=e.preview;return a.a.createElement("div",{className:g("Calendar",c&&"preview",n)},!c&&a.a.createElement("div",{className:"times"},new Array(13).fill(0).map(function(e,n){var t=480+60*n;return a.a.createElement("div",{className:"time",key:t},a.a.createElement("span",{className:"label"},O(t)))})),!c&&a.a.createElement("div",{className:"days"},["M","T","W","R","F"].map(function(e){return a.a.createElement("div",{className:"day",key:e},a.a.createElement("span",{className:"label"},e))})),a.a.createElement("div",{className:"meetings"},t.map(function(e){return a.a.createElement(k,{key:e,section:s[e],preview:c})}),r.filter(function(e){return!t.includes(e)}).map(function(e){return a.a.createElement(k,{key:e,section:s[e],overlay:!0,preview:c})})))}}]),n}(r.Component),w=t(12),S=t.n(w),T=(t(59),function(e){function n(){return Object(l.a)(this,n),Object(m.a)(this,Object(f.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(d.a)(n,[{key:"render",value:function(){var e=this.props,n=e.combinations,t=e.crns,r=e.pinnedCrns,s=e.onSetOverlayCrns,c=e.onSetPinnedCrns;return a.a.createElement("div",{className:"Combinations"},n.map(function(e,n){return a.a.createElement("div",{className:"combination",key:n,onMouseEnter:function(){return s(e)},onMouseLeave:function(){return s([])},onClick:function(){return c(Object(o.a)(r).concat(Object(o.a)(e)))}},a.a.createElement("div",{className:"number"},n+1),a.a.createElement(x,{className:"preview",pinnedCrns:Object(o.a)(r).concat(Object(o.a)(e)),overlayCrns:[],crns:t,key:n,preview:!0}))}))}}]),n}(r.PureComponent)),P=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(m.a)(this,Object(f.a)(n).call(this,e))).courses={},t.crns={},t.state=Object(u.a)({},t.loadData(),{combinations:[],overlayCrns:[],keyword:"",loaded:!1}),t.inputRef=a.a.createRef(),t.handleSetPinnedCrns=t.handleSetPinnedCrns.bind(Object(v.a)(Object(v.a)(t))),t.handleSetOverlayCrns=t.handleSetOverlayCrns.bind(Object(v.a)(Object(v.a)(t))),t.handleAddCourse=t.handleAddCourse.bind(Object(v.a)(Object(v.a)(t))),t.handleChangeKeyword=t.handleChangeKeyword.bind(Object(v.a)(Object(v.a)(t))),t.handlePressEnter=t.handlePressEnter.bind(Object(v.a)(Object(v.a)(t))),t.handleRemoveCourse=t.handleRemoveCourse.bind(Object(v.a)(Object(v.a)(t))),t.handleToggleExcluded=t.handleToggleExcluded.bind(Object(v.a)(Object(v.a)(t))),t.handleTogglePinned=t.handleTogglePinned.bind(Object(v.a)(Object(v.a)(t))),t}return Object(p.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.a.get("./courses.json").then(function(n){var t={},r=n.data;Object.keys(r).forEach(function(e){var n=r[e];n.id=e,n.color=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,t="#",r=0;r<3;r++){var a=(Math.random()*(n-e)+e|0).toString(16);t+=(1===a.length?"0":"")+a}return t}(32,160),Object.keys(n.sections).forEach(function(e){var r=n.sections[e];r.id=e,r.course=n;var a=[];r.meetings.forEach(function(e){return a.push.apply(a,Object(o.a)(e.instructors))}),r.instructors=Object(o.a)(new Set(a)),t[r.crn]=r,r.meetings.forEach(function(e){e.course=n,e.section=r;var t=e.days,a=e.period;if(e.days="&nbsp;"===t?[]:Object(o.a)(t),"TBA"===a)e.period=void 0;else{var s=a.split(" - "),c=Object(i.a)(s,2),u=c[0],l=c[1];e.period={start:E(u),end:E(l)}}})});var a=Object.values(n.sections),s=a.map(function(e){return e.scheduleType});n.hasLab=s.includes("Lecture")&&s.includes("Supervised Laboratory"),n.hasLab?(n.lectures=a.filter(function(e){return"Lecture"===e.scheduleType}),n.labs=a.filter(function(e){return"Supervised Laboratory"===e.scheduleType}),n.lectures.forEach(function(e){return e.labs=n.labs.filter(function(n){return n.id.startsWith(e.id)})}),n.labs.forEach(function(e){return e.lectures=n.lectures.filter(function(n){return e.id.startsWith(n.id)})}),n.lectures.every(function(e){return!e.labs.length})&&(n.lectures.forEach(function(e){return e.labs=n.labs}),n.labs.forEach(function(e){return e.lectures=n.lectures}))):n.sectionGroups=function(e){var n={};return e.forEach(function(e){var t=e.meetings.map(function(e){return{days:e.days,period:e.period}}),r=JSON.stringify(t),a=n[r];a?a.sections.push(e):n[r]={hash:r,meetings:t,sections:[e]}}),n}(a)}),e.courses=r,e.crns=t,e.updateCombinations({loaded:!0})})}},{key:"saveData",value:function(e){var n=e.desiredCourses,t=void 0===n?[]:n,r=e.pinnedCrns,a=void 0===r?[]:r,s=e.excludedCrns,c=void 0===s?[]:s;S.a.set("data",JSON.stringify({desiredCourses:t,pinnedCrns:a,excludedCrns:c}))}},{key:"loadData",value:function(){var e=null;try{e=JSON.parse(S.a.get("data"))}catch(i){e={}}var n=e,t=n.desiredCourses,r=void 0===t?[]:t,a=n.pinnedCrns,s=void 0===a?[]:a,c=n.excludedCrns;return{desiredCourses:r,pinnedCrns:s,excludedCrns:void 0===c?[]:c}}},{key:"updateCombinations",value:function(e){var n=this;this.setState(function(t){var r="function"===typeof e?e(t):e,a=Object(u.a)({},t,r),s=a.desiredCourses,c=a.pinnedCrns,i=a.excludedCrns;n.saveData(a);var l=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t!==s.length){var a=n.courses[s[t]],u=function(e){return!i.includes(e.crn)},d=function(e){return c.includes(e.crn)},m=function(e){return Object(o.a)(c).concat(Object(o.a)(r)).some(function(t){return r=n.crns[t],a=e,r.meetings.some(function(e){return a.meetings.some(function(n){return e.period&&n.period&&["M","T","W","R","F"].some(function(t){return e.days.includes(t)&&n.days.includes(t)})&&e.period.start<n.period.end&&n.period.start<e.period.end})});var r,a})};if(a.hasLab){var f=a.lectures.filter(d),p=a.labs.filter(d);p.length?p.forEach(function(n){n.lectures.filter(u).forEach(function(n){if(d(n))e(t+1,r);else{if(m(n))return;e(t+1,Object(o.a)(r).concat([n.crn]))}})}):f.length?f.forEach(function(n){n.labs.filter(u).forEach(function(n){m(n)||e(t+1,Object(o.a)(r).concat([n.crn]))})}):a.lectures.filter(u).forEach(function(n){m(n)||n.labs.filter(u).forEach(function(a){m(a)||e(t+1,Object(o.a)(r).concat([n.crn,a.crn]))})})}else Object.values(a.sections).some(d)?e(t+1,r):Object.values(a.sectionGroups).forEach(function(n){var a=n.sections.find(u);a&&!m(a)&&e(t+1,Object(o.a)(r).concat([a.crn]))})}else l.push(r)}(),Object(u.a)({},r,{combinations:l})})}},{key:"searchCourses",value:function(e){return Object.values(this.courses).filter(function(n){return n.id.startsWith(e.toUpperCase())})}},{key:"handleRemoveCourse",value:function(e){this.updateCombinations(function(n){return{desiredCourses:n.desiredCourses.filter(function(n){return n!==e.id}),pinnedCrns:n.pinnedCrns.filter(function(n){return!Object.values(e.sections).some(function(e){return e.crn===n})}),excludedCrns:n.excludedCrns.filter(function(n){return!Object.values(e.sections).some(function(e){return e.crn===n})})}})}},{key:"handleAddCourse",value:function(e){this.updateCombinations(function(n){var t=n.desiredCourses,r=n.excludedCrns;if(!t.includes(e.id)){var a=Object.values(e.sections).filter(function(e){return e.meetings.some(function(e){return!e.days.length||!e.period})}).map(function(e){return e.crn});return{keyword:"",desiredCourses:Object(o.a)(t).concat([e.id]),excludedCrns:Object(o.a)(r).concat(Object(o.a)(a))}}return{keyword:""}}),this.inputRef.current.focus()}},{key:"handleTogglePinned",value:function(e){this.updateCombinations(function(n){var t=n.pinnedCrns,r=n.excludedCrns;return t.includes(e.crn)?{pinnedCrns:t.filter(function(n){return n!==e.crn})}:{pinnedCrns:Object(o.a)(t).concat([e.crn]),excludedCrns:r.filter(function(n){return n!==e.crn})}})}},{key:"handleToggleExcluded",value:function(e){this.updateCombinations(function(n){var t=n.pinnedCrns,r=n.excludedCrns;return r.includes(e.crn)?{excludedCrns:r.filter(function(n){return n!==e.crn})}:{excludedCrns:Object(o.a)(r).concat([e.crn]),pinnedCrns:t.filter(function(n){return n!==e.crn})}})}},{key:"handleChangeKeyword",value:function(e){var n=e.target.value;this.setState({keyword:n})}},{key:"handlePressEnter",value:function(e){if("Enter"===e.key){e.preventDefault();var n=this.searchCourses(this.state.keyword);n.length&&this.handleAddCourse(n[0])}}},{key:"handleSetPinnedCrns",value:function(e){this.updateCombinations({pinnedCrns:e})}},{key:"handleSetOverlayCrns",value:function(e){this.setState({overlayCrns:e})}},{key:"render",value:function(){var e=this,n=this.state,t=n.pinnedCrns,r=n.excludedCrns,s=n.desiredCourses,c=n.combinations,i=n.overlayCrns,o=n.keyword;return n.loaded&&a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"container"},a.a.createElement(x,{pinnedCrns:t,overlayCrns:i,crns:this.crns})),a.a.createElement("div",{className:"sidebar"},a.a.createElement("div",{className:"title"},a.a.createElement("span",{className:"primary"},"Spring 2019"),a.a.createElement("span",{className:"secondary"},t.reduce(function(n,t){return n+e.crns[t].credits},0)," Credits")),t.length>0&&a.a.createElement(y.a,{className:"crns",text:t.join(", ")},a.a.createElement("span",null,t.join(", "))),s.map(function(n){var s=e.courses[n];return a.a.createElement(N,{course:s,expandable:!0,key:s.id,onRemove:e.handleRemoveCourse,onTogglePinned:e.handleTogglePinned,onToggleExcluded:e.handleToggleExcluded,onSetOverlayCrns:e.handleSetOverlayCrns,pinnedCrns:t,excludedCrns:r})}),a.a.createElement("div",{className:"course-add"},a.a.createElement("input",{type:"text",ref:this.inputRef,value:o,onChange:this.handleChangeKeyword,className:"keyword",placeholder:"XX 0000",onKeyPress:this.handlePressEnter}),a.a.createElement("div",{className:"courses"},o&&this.searchCourses(o).slice(0,10).map(function(n){return a.a.createElement(N,{course:n,onClick:function(){return e.handleAddCourse(n)},key:n.id,pinnedCrns:t})}))),a.a.createElement("div",{className:"title"},"Auto Select"),a.a.createElement("div",{className:"crns",onClick:function(){return e.handleSetPinnedCrns([])}},"Reset Sections"),a.a.createElement(T,{combinations:c,crns:this.crns,pinnedCrns:t,onSetOverlayCrns:this.handleSetOverlayCrns,onSetPinnedCrns:this.handleSetPinnedCrns})))}}]),n}(r.Component);c.a.render(a.a.createElement(P,null),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.6ab5aba1.chunk.js.map