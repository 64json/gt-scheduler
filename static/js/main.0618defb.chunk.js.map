{"version":3,"sources":["reducers/db.js","utils.js","reducers/env.js","reducers/user.js","reducers/index.js","constants.js","components/SemiPureComponent/index.jsx","components/ActionRow/index.jsx","components/Button/index.jsx","components/Calendar/index.jsx","components/CombinationsContainer/index.jsx","components/Course/index.jsx","components/CourseAdd/index.jsx","components/Instructor/index.jsx","components/TimeBlocks/index.jsx","beans/Oscar.js","beans/Course.js","beans/Section.js","components/App/index.jsx","index.js"],"names":["setOscar","createAction","concat","oscar","actions","handleActions","Object","defineProperty","combineActions","state","_ref","payload","objectSpread","stringToTime","string","_$exec","exec","_$exec2","slicedToArray","hour","minute","Number","parseInt","timeToString","time","ampm","arguments","length","undefined","periodToString","period","start","end","getRandomColor","from","to","hex","i","component","Math","random","toString","classes","_len","classList","Array","_key","filter","c","join","isMobile","window","innerWidth","unique","array","toConsumableArray","Set","setMobile","mobile","defaultState","setDesiredCourses","desiredCourses","setPinnedCrns","pinnedCrns","setExcludedCrns","excludedCrns","json","JSON","parse","Cookies","get","e","_json","_json$desiredCourses","_json$pinnedCrns","_json$excludedCrns","loadData","_ref2","newState","_ref$desiredCourses","_ref$pinnedCrns","_ref$excludedCrns","set","stringify","expires","saveData","dbActions","envActions","userActions","DAYS","SemiPureComponent","nextProps","nextState","stateChanged","this","propsChanged","a","b","aKeys","keys","bKeys","every","key","shallowCompareEntries","props","Component","ActionRow","_this$props","className","children","color","restProps","objectWithoutProperties","react_default","createElement","assign","action","map","icon","style","backgroundColor","index_es","fixedWidth","rel","target","lib_default","Button","Calendar","overlayCrns","preview","env","user","src","alt","fill","_","timeToShortString","day","crn","components_TimeBlocks","includes","overlay","connect","CombinationsContainer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","sortingOptionIndex","sortingOptions","label","calculateFactor","combination","startMap","endMap","reduce","sum","min","ends","values","starts","db","memoizedGetCombinations","memoizeOne","getCombinations","bind","handleChangeSortingOptionIndex","assertThisInitialized","value","setState","_this2","onSetOverlayCrns","_this$props$user","combinations","sortingOption","sortedCombinations","factor","sort","components_Button","onClick","handleSetPinnedCrns","onChange","crns","onMouseEnter","onMouseLeave","components_Calendar","Course","expanded","course","courseId","id","sections","some","section","onAddCourse","findCourse","instructorMap","forEach","_section$instructors$","instructors","primaryInstructor","push","components_ActionRow","faPlus","faAngleUp","faAngleDown","handleToggleExpanded","faInfoCircle","href","subject","number","faTrash","handleRemoveCourse","dangerouslySetInnerHTML","__html","title","name","components_Instructor","CourseAdd","keyword","inputRef","React","createRef","handleChangeKeyword","handlePressEnter","preventDefault","courses","searchCourses","handleAddCourse","tbaCrns","meetings","meeting","days","current","focus","type","ref","placeholder","onKeyPress","components_Course","Instructor","_this$props$user2","_this$props$user3","_this$props$user4","instructorExcluded","instructorPinned","encodeURIComponent","tokens","split","shift","pop","simplifyName","faCheck","handleIncludeAll","faBan","handleExcludeAll","excluded","pinned","faTimes","faThumbtack","handleTogglePinned","handleToggleExcluded","TimeBlocks","findSection","top","height","where","Oscar","data","courseMap","crnMap","toUpperCase","startsWith","crnsList","dfs","courseIndex","isIncluded","isPinned","hasConflict","section1","section2","meeting1","meeting2","hasLab","pinnedLectures","lectures","pinnedLabs","labs","lab","lecture","sectionGroups","sectionGroup","find","iterateTimeBlocks","callback","_this3","_this$id$split","_this$id$split2","sectionId","Section","credits","distinct","groups","sectionGroupMeetings","sectionGroupHash","hash","instructor","replace","App","tabIndex","captureRef","handleResize","handleSetOverlayCrns","handleDownload","axios","then","res","addEventListener","removeEventListener","nextMobile","domtoimage","toPng","width","offsetWidth","offsetHeight","left","transform","transform-origin","blob","saveAs","_this$state","tabTitle","handleChangeTab","getTotalCredits","expandable","components_CourseAdd","components_CombinationsContainer","text","store","createStore","combineReducers","reducers","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.0618defb.chunk.js","sourcesContent":["import { combineActions, createAction, handleActions } from 'redux-actions';\n\nconst prefix = 'DB';\n\nconst setOscar = createAction(`${prefix}/SET_OSCAR`, oscar => ({ oscar }));\n\nexport const actions = {\n  setOscar,\n};\n\nconst defaultState = {\n  oscar: null,\n};\n\nexport default handleActions({\n  [combineActions(\n    setOscar,\n  )]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n  }),\n}, defaultState);\n","const stringToTime = string => {\n  const [, hour, minute, ampm] = /(\\d{1,2}):(\\d{2}) (a|p)m/.exec(string);\n  return ((ampm === 'p' ? 12 : 0) + Number.parseInt(hour % 12)) * 60 + Number.parseInt(minute);\n};\n\nconst timeToString = (time, ampm = true) => {\n  const hour = time / 60 | 0;\n  const minute = time % 60;\n  return `${hour > 12 ? hour - 12 : hour}:${minute < 10 ? '0' + minute : minute}${ampm ? ` ${hour < 12 ? 'a' : 'p'}m` : ''}`;\n};\n\nconst timeToShortString = time => {\n  const hour = time / 60 | 0;\n  return `${hour > 12 ? hour - 12 : hour}${hour < 12 ? 'a' : 'p'}m`;\n};\n\nconst periodToString = period => period ? `${timeToString(period.start, false)} - ${timeToString(period.end)}` : 'TBA';\n\nconst getRandomColor = (from = 0, to = 256) => {\n  let hex = '#';\n  for (let i = 0; i < 3; i++) {\n    const component = (Math.random() * (to - from) + from | 0).toString(16);\n    hex += (component.length === 1 ? '0' : '') + component;\n  }\n  return hex;\n};\n\nconst hasConflictBetween = (section1, section2) =>\n  section1.meetings.some(meeting1 =>\n    section2.meetings.some(meeting2 =>\n      meeting1.period && meeting2.period &&\n      ['M', 'T', 'W', 'R', 'F'].some(day => meeting1.days.includes(day) && meeting2.days.includes(day)) &&\n      meeting1.period.start < meeting2.period.end && meeting2.period.start < meeting1.period.end));\n\nconst classes = (...classList) => classList.filter(c => c).join(' ');\n\nconst isMobile = () => window.innerWidth < 768;\n\nconst shallowCompareEntries = (a, b) => {\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  return aKeys.length === bKeys.length && aKeys.every(key => key in b && a[key] === b[key]);\n};\n\nconst simplifyName = name => {\n  const tokens = name.split(' ');\n  const firstName = tokens.shift();\n  const lastName = tokens.pop();\n  return [firstName, lastName].join(' ');\n};\n\nconst unique = array => [...new Set(array)];\n\nexport {\n  stringToTime,\n  timeToString,\n  timeToShortString,\n  periodToString,\n  getRandomColor,\n  hasConflictBetween,\n  classes,\n  isMobile,\n  shallowCompareEntries,\n  simplifyName,\n  unique,\n};\n","import { combineActions, createAction, handleActions } from 'redux-actions';\nimport { isMobile } from '../utils';\n\nconst prefix = 'ENV';\n\nconst setMobile = createAction(`${prefix}/SET_MOBILE`, mobile => ({ mobile }));\n\nexport const actions = {\n  setMobile,\n};\n\nconst defaultState = {\n  mobile: isMobile(),\n};\n\nexport default handleActions({\n  [combineActions(\n    setMobile,\n  )]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n  }),\n}, defaultState);\n","import { combineActions, createAction, handleActions } from 'redux-actions';\nimport Cookies from 'js-cookie';\n\nconst prefix = 'USER';\n\nconst setDesiredCourses = createAction(`${prefix}/SET_DESIRED_COURSES`, desiredCourses => ({ desiredCourses }));\nconst setPinnedCrns = createAction(`${prefix}/SET_PINNED_CRNS`, pinnedCrns => ({ pinnedCrns }));\nconst setExcludedCrns = createAction(`${prefix}/SET_EXCLUDED_CRNS`, excludedCrns => ({ excludedCrns }));\n\nexport const actions = {\n  setDesiredCourses,\n  setPinnedCrns,\n  setExcludedCrns,\n};\n\nconst saveData = ({ desiredCourses = [], pinnedCrns = [], excludedCrns = [] }) => {\n  Cookies.set('data', JSON.stringify({ desiredCourses, pinnedCrns, excludedCrns }), { expires: 365 });\n};\n\nconst loadData = () => {\n  let json = null;\n  try {\n    json = JSON.parse(Cookies.get('data'));\n  } catch (e) {\n    json = {};\n  }\n  const { desiredCourses = [], pinnedCrns = [], excludedCrns = [] } = json;\n  return { desiredCourses, pinnedCrns, excludedCrns };\n};\n\nconst defaultState = loadData();\n\nexport default handleActions({\n  [combineActions(\n    setDesiredCourses,\n    setPinnedCrns,\n    setExcludedCrns,\n  )]: (state, { payload }) => {\n    const newState = {\n      ...state,\n      ...payload,\n    };\n    saveData(newState);\n    return newState;\n  },\n}, defaultState);\n","import { actions as dbActions } from './db';\nimport { actions as envActions } from './env';\nimport { actions as userActions } from './user';\n\nexport { default as db } from './db';\nexport { default as env } from './env';\nexport { default as user } from './user';\n\nexport const actions = {\n  ...dbActions,\n  ...envActions,\n  ...userActions,\n};\n","const OPEN = 8 * 60;\nconst CLOSE = 21 * 60;\nconst DAYS = ['M', 'T', 'W', 'R', 'F'];\n\nconst PNG_SCALE_FACTOR = 2;\n\nexport {\n  OPEN,\n  CLOSE,\n  DAYS,\n  PNG_SCALE_FACTOR,\n};\n","import { Component } from 'react';\nimport { shallowCompareEntries } from '../../utils';\n\nclass SemiPureComponent extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    const stateChanged = this.state !== nextState;\n    const propsChanged = !shallowCompareEntries(this.props, nextProps);\n    return stateChanged || propsChanged;\n  }\n}\n\nexport default SemiPureComponent;\n","import React, { Component } from 'react';\nimport { classes } from '../../utils';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './stylesheet.scss';\nimport CopyToClipboard from 'react-copy-to-clipboard';\n\nclass ActionRow extends Component {\n  render() {\n    const { className, children, actions, color, ...restProps } = this.props;\n\n    return (\n      <div className={classes('ActionRow', className)} {...restProps}>\n        {children}\n        <div className=\"actions\">\n          {\n            actions.filter(action => action).map(({ className, icon, ...restProps }, i) => {\n              const props = {\n                key: i,\n                className: classes('action', className),\n                children: (\n                  <div className=\"icon\" style={{ backgroundColor: color }}>\n                    <FontAwesomeIcon fixedWidth icon={icon}/>\n                  </div>\n                ),\n                ...restProps,\n              };\n              return 'href' in props ? (\n                <a {...props} rel=\"noopener noreferrer\" target=\"_blank\"/>\n              ) : 'text' in props ? (\n                <CopyToClipboard {...props}/>\n              ) : (\n                <div {...props}/>\n              );\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default ActionRow;\n","import React, { Component } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { classes } from '../../utils';\nimport './stylesheet.scss';\n\nclass Button extends Component {\n  render() {\n    const { className, ...restProps } = this.props;\n\n    const props = {\n      className: classes('Button', className),\n      ...restProps,\n    };\n\n    return 'href' in props ? (\n      <a {...props} rel=\"noopener noreferrer\" target=\"_blank\"/>\n    ) : 'text' in props ? (\n      <CopyToClipboard {...props}/>\n    ) : (\n      <div {...props}/>\n    );\n  }\n}\n\n\nexport default Button;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { CLOSE, DAYS, OPEN } from '../../constants';\nimport { classes, timeToShortString } from '../../utils';\nimport { actions } from '../../reducers';\nimport { SemiPureComponent, TimeBlocks } from '../';\nimport './stylesheet.scss';\n\nclass Calendar extends SemiPureComponent {\n  render() {\n    const { className, overlayCrns, preview } = this.props;\n    const { mobile } = this.props.env;\n    const { pinnedCrns } = this.props.user;\n\n    return (\n      <div className={classes('Calendar', mobile && 'mobile', preview && 'preview', className)}>\n        {\n          preview &&\n          <img className=\"ratio\" src=\"5x2.png\" alt=\"\"/>\n        }\n        {\n          !preview &&\n          <div className=\"times\">\n            {\n              new Array((CLOSE - OPEN) / 60).fill(0).map((_, i) => {\n                const time = OPEN + i * 60;\n                return (\n                  <div className=\"time\" key={time}>\n                    <span className=\"label\">\n                      {timeToShortString(time)}\n                    </span>\n                  </div>\n                );\n              })\n            }\n          </div>\n        }\n        {\n          !preview &&\n          <div className=\"days\">\n            {\n              DAYS.map(day => (\n                <div className=\"day\" key={day}>\n                    <span className=\"label\">\n                      {day}\n                    </span>\n                </div>\n              ))\n            }\n          </div>\n        }\n        <div className=\"meetings\">\n          {\n            pinnedCrns.map(crn => (\n              <TimeBlocks key={crn} crn={crn} preview={preview}/>\n            ))\n          }\n          {\n            overlayCrns &&\n            overlayCrns.filter(crn => !pinnedCrns.includes(crn)).map(crn => (\n              <TimeBlocks key={crn} crn={crn} overlay={!preview} preview={preview}/>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ env, user }) => ({ env, user }), actions)(Calendar);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport memoizeOne from 'memoize-one';\nimport { Button, Calendar, SemiPureComponent } from '../';\nimport { classes } from '../../utils';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass CombinationsContainer extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortingOptionIndex: 0,\n    };\n\n    this.sortingOptions = [{\n      label: 'Most Compact',\n      calculateFactor: combination => {\n        const { startMap, endMap } = combination;\n        const diffs = Object.keys(startMap).map(day => endMap[day] - startMap[day]);\n        const sum = diffs.reduce((sum, min) => sum + min, 0);\n        return +sum;\n      },\n    }, {\n      label: 'Earliest Ending',\n      calculateFactor: combination => {\n        const { endMap } = combination;\n        const ends = Object.values(endMap);\n        const sum = ends.reduce((sum, end) => sum + end, 0);\n        const avg = sum / ends.length;\n        return +avg;\n      },\n    }, {\n      label: 'Latest Beginning',\n      calculateFactor: combination => {\n        const { startMap } = combination;\n        const starts = Object.values(startMap);\n        const sum = starts.reduce((sum, min) => sum + min, 0);\n        const avg = sum / starts.length;\n        return -avg;\n      },\n    }];\n\n    const { oscar } = this.props.db;\n\n    this.memoizedGetCombinations = memoizeOne(oscar.getCombinations.bind(oscar));\n    this.handleChangeSortingOptionIndex = this.handleChangeSortingOptionIndex.bind(this);\n  }\n\n  handleSetPinnedCrns(pinnedCrns) {\n    this.props.setPinnedCrns(pinnedCrns);\n  }\n\n  handleChangeSortingOptionIndex(e) {\n    const sortingOptionIndex = e.target.value;\n    this.setState({ sortingOptionIndex });\n  }\n\n  render() {\n    const { className, onSetOverlayCrns } = this.props;\n    const { desiredCourses, pinnedCrns, excludedCrns } = this.props.user;\n    const { sortingOptionIndex } = this.state;\n\n    const combinations = this.memoizedGetCombinations(desiredCourses, pinnedCrns, excludedCrns);\n    const sortingOption = this.sortingOptions[sortingOptionIndex];\n    const sortedCombinations = combinations.map(combination => ({\n      ...combination,\n      factor: sortingOption.calculateFactor(combination),\n    })).sort((a, b) => a.factor - b.factor);\n\n    return (\n      <div className={classes('CombinationsContainer', className)}>\n        {\n          pinnedCrns.length > 0 &&\n          <Button onClick={() => this.handleSetPinnedCrns([])}>\n            Reset Sections\n          </Button>\n        }\n        <Button className=\"sorting-option\">\n          <select onChange={this.handleChangeSortingOptionIndex} value={sortingOptionIndex}>\n            {\n              this.sortingOptions.map((sortingOption, i) => (\n                <option key={i} value={i}>{sortingOption.label}</option>\n              ))\n            }\n          </select>\n        </Button>\n        <div className=\"combinations\">\n          {\n            sortedCombinations.map(({ crns }, i) => (\n              <div className=\"combination\" key={i}\n                   onMouseEnter={() => onSetOverlayCrns(crns)}\n                   onMouseLeave={() => onSetOverlayCrns([])}\n                   onClick={() => this.handleSetPinnedCrns([...pinnedCrns, ...crns])}>\n                <div className=\"number\">{i + 1}</div>\n                <Calendar className=\"preview\" overlayCrns={crns} preview/>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(CombinationsContainer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { faAngleDown, faAngleUp, faInfoCircle, faPlus, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { classes } from '../../utils';\nimport { actions } from '../../reducers';\nimport { ActionRow, Instructor, SemiPureComponent } from '../';\nimport './stylesheet.scss';\n\nclass Course extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  handleRemoveCourse(course) {\n    const { desiredCourses, pinnedCrns, excludedCrns } = this.props.user;\n    this.props.setDesiredCourses(desiredCourses.filter(courseId => courseId !== course.id));\n    this.props.setPinnedCrns(pinnedCrns.filter(crn => !course.sections.some(section => section.crn === crn)));\n    this.props.setExcludedCrns(excludedCrns.filter(crn => !course.sections.some(section => section.crn === crn)));\n  }\n\n  handleToggleExpanded(expanded = !this.state.expanded) {\n    this.setState({ expanded });\n  }\n\n  render() {\n    const { className, courseId, onAddCourse, onSetOverlayCrns } = this.props;\n    const { oscar } = this.props.db;\n    const { pinnedCrns } = this.props.user;\n    const { expanded } = this.state;\n\n    const course = oscar.findCourse(courseId);\n\n    const instructorMap = {};\n    course.sections.forEach(section => {\n      const [primaryInstructor = 'Not Assigned'] = section.instructors;\n      if (!(primaryInstructor in instructorMap)) {\n        instructorMap[primaryInstructor] = [];\n      }\n      instructorMap[primaryInstructor].push(section);\n    });\n\n    return (\n      <div className={classes('Course', className)} style={{ backgroundColor: course.color }} key={course.id}>\n        <ActionRow className=\"course-header\" actions={[\n          onAddCourse ?\n            { icon: faPlus, onClick: onAddCourse } :\n            { icon: expanded ? faAngleUp : faAngleDown, onClick: () => this.handleToggleExpanded() },\n          {\n            icon: faInfoCircle,\n            href: `https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_course_detail?cat_term_in=201902&subj_code_in=${course.subject}&crse_numb_in=${course.number}`,\n          },\n          !onAddCourse && { icon: faTrash, onClick: () => this.handleRemoveCourse(course) },\n        ]} color={course.color}>\n          <div className=\"row\">\n            <span className=\"course_id\">{course.id}</span>\n            <span className=\"section_ids\">\n              {course.sections.filter(section => pinnedCrns.includes(section.crn)).map(section => section.id).join(', ')}\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"course_title\" dangerouslySetInnerHTML={{ __html: course.title }}/>\n            <span className=\"section_crns\">\n              {course.sections.filter(section => pinnedCrns.includes(section.crn)).map(section => section.crn).join(', ')}\n            </span>\n          </div>\n        </ActionRow>\n        {\n          expanded &&\n          <div className=\"course-body\">\n            {\n              Object.keys(instructorMap).map(name => (\n                <Instructor key={name} course={course} name={name} sections={instructorMap[name]}\n                            onSetOverlayCrns={onSetOverlayCrns}/>\n              ))\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(Course);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Course, SemiPureComponent } from '../';\nimport { classes } from '../../utils';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass CourseAdd extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      keyword: '',\n    };\n\n    this.inputRef = React.createRef();\n\n    this.handleChangeKeyword = this.handleChangeKeyword.bind(this);\n    this.handlePressEnter = this.handlePressEnter.bind(this);\n  }\n\n  handleChangeKeyword(e) {\n    const keyword = e.target.value;\n    this.setState({ keyword });\n  }\n\n  handlePressEnter(e) {\n    const { oscar } = this.props.db;\n    const { keyword } = this.state;\n\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      const courses = oscar.searchCourses(keyword);\n      if (courses.length) this.handleAddCourse(courses[0]);\n    }\n  }\n\n  handleAddCourse(course) {\n    const { desiredCourses, excludedCrns } = this.props.user;\n    if (desiredCourses.includes(course.id)) return;\n    const tbaCrns = course.sections\n      .filter(section => !section.meetings.length || section.meetings.some(meeting => !meeting.days.length || !meeting.period))\n      .map(section => section.crn);\n    this.props.setDesiredCourses([...desiredCourses, course.id]);\n    this.props.setExcludedCrns([...excludedCrns, ...tbaCrns]);\n\n    this.setState({ keyword: '' });\n    this.inputRef.current.focus();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { oscar } = this.props.db;\n    const { pinnedCrns } = this.props.user;\n    const { keyword } = this.state;\n\n    return (\n      <div className={classes('CourseAdd', className)}>\n        <input type=\"text\" ref={this.inputRef} value={keyword} onChange={this.handleChangeKeyword}\n               className=\"keyword\"\n               placeholder=\"XX 0000\" onKeyPress={this.handlePressEnter}/>\n        <div className=\"autocomplete\">\n          {\n            keyword &&\n            oscar.searchCourses(keyword).map(course => (\n              <Course key={course.id} courseId={course.id} pinnedCrns={pinnedCrns}\n                      onAddCourse={() => this.handleAddCourse(course)}/>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(CourseAdd);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  faAngleDown,\n  faAngleUp,\n  faBan,\n  faCheck,\n  faInfoCircle,\n  faThumbtack,\n  faTimes,\n} from '@fortawesome/free-solid-svg-icons';\nimport { classes, periodToString, simplifyName, unique } from '../../utils';\nimport { actions } from '../../reducers';\nimport { ActionRow, SemiPureComponent } from '../';\nimport './stylesheet.scss';\n\nclass Instructor extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: true,\n    };\n  }\n\n  handleTogglePinned(section) {\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    if (pinnedCrns.includes(section.crn)) {\n      this.props.setPinnedCrns(pinnedCrns.filter(crn => crn !== section.crn));\n    } else {\n      this.props.setPinnedCrns([...pinnedCrns, section.crn]);\n      this.props.setExcludedCrns(excludedCrns.filter(crn => crn !== section.crn));\n    }\n  }\n\n  handleToggleExcluded(section) {\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    if (excludedCrns.includes(section.crn)) {\n      this.props.setExcludedCrns(excludedCrns.filter(crn => crn !== section.crn));\n    } else {\n      this.props.setExcludedCrns([...excludedCrns, section.crn]);\n      this.props.setPinnedCrns(pinnedCrns.filter(crn => crn !== section.crn));\n    }\n  }\n\n  handleExcludeAll() {\n    const { sections } = this.props;\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    const crns = sections.map(section => section.crn);\n    this.props.setExcludedCrns(unique([...excludedCrns, ...crns]));\n    this.props.setPinnedCrns(pinnedCrns.filter(crn => !crns.includes(crn)));\n  }\n\n  handleIncludeAll() {\n    const { sections } = this.props;\n    const { excludedCrns } = this.props.user;\n    const crns = sections.map(section => section.crn);\n    this.props.setExcludedCrns(excludedCrns.filter(crn => !crns.includes(crn)));\n  }\n\n  handleToggleExpanded(expanded = !this.state.expanded) {\n    this.setState({ expanded });\n  }\n\n  render() {\n    const { className, course, name, sections, onSetOverlayCrns } = this.props;\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    const { expanded } = this.state;\n\n    const instructorExcluded = sections.every(section => excludedCrns.includes(section.crn));\n    const instructorPinned = sections.some(section => pinnedCrns.includes(section.crn));\n\n    return (\n      <div className={classes('Instructor', className)}>\n        <ActionRow className={classes('name', instructorExcluded && 'excluded', instructorPinned && 'pinned')}\n                   actions={[\n                     { icon: expanded ? faAngleUp : faAngleDown, onClick: () => this.handleToggleExpanded() },\n                     !['TBA', 'Not Assigned'].includes(name) && {\n                       icon: faInfoCircle,\n                       href: `http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=${encodeURIComponent(simplifyName(name))}`,\n                     },\n                     instructorExcluded ?\n                       { icon: faCheck, onClick: () => this.handleIncludeAll() } :\n                       { icon: faBan, onClick: () => this.handleExcludeAll() },\n                   ]} color={course.color}>\n          {name || 'Not Assigned'}\n        </ActionRow>\n        {\n          expanded &&\n          <div className=\"sections\">\n            {\n              sections.map(section => {\n                const excluded = excludedCrns.includes(section.crn);\n                const pinned = pinnedCrns.includes(section.crn);\n                return (\n                  <ActionRow className={classes('section', excluded && 'excluded', pinned && 'pinned')}\n                             onMouseEnter={() => onSetOverlayCrns([section.crn])}\n                             onMouseLeave={() => onSetOverlayCrns([])} actions={[\n                    { icon: pinned ? faTimes : faThumbtack, onClick: () => this.handleTogglePinned(section) },\n                    {\n                      icon: faInfoCircle,\n                      href: `https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=201902&crn_in=${section.crn}`,\n                    },\n                    { icon: excluded ? faCheck : faBan, onClick: () => this.handleToggleExcluded(section) },\n                  ]} color={course.color} key={section.id}>\n                    <div className=\"section-header\">\n                      <span className=\"section_id\">{section.id}</span>\n                    </div>\n                    <div className=\"meetings\">\n                      {\n                        section.meetings.map((meeting, i) => {\n                          return (\n                            <div className=\"meeting\" key={i}>\n                              <span className=\"days\">{meeting.days.join('')}</span>\n                              <span className=\"period\">{periodToString(meeting.period)}</span>\n                            </div>\n                          );\n                        })\n                      }\n                    </div>\n                  </ActionRow>\n                );\n              })\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ user }) => ({ user }), actions)(Instructor);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { classes, periodToString } from '../../utils';\nimport { CLOSE, OPEN } from '../../constants';\nimport { SemiPureComponent } from '../';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass TimeBlocks extends SemiPureComponent {\n  render() {\n    const { className, crn, overlay, preview } = this.props;\n    const { mobile } = this.props.env;\n    const { oscar } = this.props.db;\n\n    const section = oscar.findSection(crn);\n\n    return (\n      <div className={classes('TimeBlocks', mobile && 'mobile', overlay && 'overlay', className)}>\n        {\n          section.meetings.map((meeting, i) => meeting.period && (\n            meeting.days.map(day => (\n              <div className={`meeting ${day}`} key={[i, day].join('-')}\n                   style={{\n                     top: (meeting.period.start - OPEN) / (CLOSE - OPEN) * 100 + '%',\n                     height: (meeting.period.end - meeting.period.start) / (CLOSE - OPEN) * 100 + '%',\n                     backgroundColor: section.course.color,\n                   }}>\n                {\n                  !preview &&\n                  <div className=\"meeting-wrapper\">\n                    <span className=\"course_id\">{section.course.id}{mobile ? '' : ` ${section.id}`}</span>\n                    <span className=\"period\">{periodToString(meeting.period)}</span>\n                    {\n                      !mobile &&\n                      <span className=\"where\">{meeting.where}</span>\n                    }\n                    {\n                      !mobile &&\n                      <span className=\"instructors\">{meeting.instructors.join(', ')}</span>\n                    }\n                  </div>\n                }\n              </div>\n            ))\n          ))\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ env, db }) => ({ env, db }), actions)(TimeBlocks);\n","import { Course } from './';\nimport { hasConflictBetween } from '../utils';\n\nclass Oscar {\n  constructor(data) {\n    this.courses = Object.keys(data).map(courseId => new Course(courseId, data[courseId]));\n    this.courseMap = {};\n    this.crnMap = {};\n    this.courses.forEach(course => {\n      this.courseMap[course.id] = course;\n      course.sections.forEach(section => {\n        this.crnMap[section.crn] = section;\n      });\n    });\n  }\n\n  findCourse(courseId) {\n    return this.courseMap[courseId];\n  }\n\n  findSection(crn) {\n    return this.crnMap[crn];\n  }\n\n  searchCourses(keyword) {\n    const [, subject, number] = /^\\s*([a-zA-Z]*)\\s*(\\d*)\\s*$/.exec(keyword.toUpperCase()) || [];\n    if (subject && number) {\n      return this.courses.filter(course => course.subject === subject && course.number.startsWith(number));\n    } else if (subject) {\n      return this.courses.filter(course => course.subject === subject);\n    } else if (number) {\n      return this.courses.filter(course => course.number.startsWith(number));\n    } else {\n      return [];\n    }\n  }\n\n  getCombinations(desiredCourses, pinnedCrns, excludedCrns) {\n    const crnsList = [];\n    const dfs = (courseIndex = 0, crns = []) => {\n      if (courseIndex === desiredCourses.length) {\n        crnsList.push(crns);\n        return;\n      }\n      const course = this.findCourse(desiredCourses[courseIndex]);\n      const isIncluded = section => !excludedCrns.includes(section.crn);\n      const isPinned = section => pinnedCrns.includes(section.crn);\n      const hasConflict = section => [...pinnedCrns, ...crns].some(crn => hasConflictBetween(this.findSection(crn), section));\n      if (course.hasLab) {\n        const pinnedLectures = course.lectures.filter(isPinned);\n        const pinnedLabs = course.labs.filter(isPinned);\n        if (pinnedLabs.length) {\n          pinnedLabs.forEach(lab => {\n            lab.lectures.filter(isIncluded).forEach(lecture => {\n              if (isPinned(lecture)) {\n                dfs(courseIndex + 1, crns);\n              } else {\n                if (hasConflict(lecture)) return;\n                dfs(courseIndex + 1, [...crns, lecture.crn]);\n              }\n            });\n          });\n        } else if (pinnedLectures.length) {\n          pinnedLectures.forEach(lecture => {\n            lecture.labs.filter(isIncluded).forEach(lab => {\n              if (hasConflict(lab)) return;\n              dfs(courseIndex + 1, [...crns, lab.crn]);\n            });\n          });\n        } else {\n          course.lectures.filter(isIncluded).forEach(lecture => {\n            if (hasConflict(lecture)) return;\n            lecture.labs.filter(isIncluded).forEach(lab => {\n              if (hasConflict(lab)) return;\n              dfs(courseIndex + 1, [...crns, lecture.crn, lab.crn]);\n            });\n          });\n        }\n      } else {\n        if (course.sections.some(isPinned)) {\n          dfs(courseIndex + 1, crns);\n        } else {\n          Object.values(course.sectionGroups).forEach(sectionGroup => {\n            const section = sectionGroup.sections.find(isIncluded);\n            if (!section || hasConflict(section)) return;\n            dfs(courseIndex + 1, [...crns, section.crn]);\n          });\n        }\n      }\n    };\n    dfs();\n    return crnsList.map(crns => {\n      const startMap = {};\n      const endMap = {};\n      this.iterateTimeBlocks([...pinnedCrns, ...crns], (day, period) => {\n        if (!(day in startMap) || startMap[day] > period.start) startMap[day] = period.start;\n        if (!(day in endMap) || endMap[day] < period.end) endMap[day] = period.end;\n      });\n      return {\n        crns,\n        startMap,\n        endMap,\n      }\n    });\n  }\n\n  iterateTimeBlocks(crns, callback) {\n    crns.forEach(crn => {\n      this.findSection(crn).meetings.forEach(meeting => meeting.period && (\n        meeting.days.forEach(day => {\n          callback(day, meeting.period);\n        })\n      ));\n    });\n  }\n}\n\nexport default Oscar;\n","import { getRandomColor } from '../utils';\nimport { Section } from './';\n\nclass Course {\n  constructor(courseId, data) {\n    this.id = courseId;\n    [this.subject, this.number] = this.id.split(' ');\n    this.title = data.title;\n    this.color = getRandomColor(32, 160);\n    this.sections = Object.keys(data.sections).map(sectionId => new Section(this, sectionId, data.sections[sectionId]));\n\n    const lectures = this.sections.filter(section => section.credits > 0);\n    const labs = this.sections.filter(section => section.credits === 0);\n    this.hasLab = !this.id.startsWith('VIP') && lectures.length && labs.length;\n    if (this.hasLab) {\n      this.lectures = lectures;\n      this.labs = labs;\n      this.lectures.forEach(lecture => lecture.labs = this.labs.filter(lab => lab.id.startsWith(lecture.id)));\n      this.labs.forEach(lab => lab.lectures = this.lectures.filter(lecture => lab.id.startsWith(lecture.id)));\n      if (this.lectures.every(lecture => !lecture.labs.length)) {\n        this.lectures.forEach(lecture => lecture.labs = this.labs);\n        this.labs.forEach(lab => lab.lectures = this.lectures);\n      }\n    } else {\n      this.sectionGroups = this.distinct(this.sections);\n    }\n  }\n\n  distinct(sections) {\n    let groups = {};\n    sections.forEach(section => {\n      const sectionGroupMeetings = section.meetings.map(({ days, period }) => ({ days, period }));\n      const sectionGroupHash = JSON.stringify(sectionGroupMeetings);\n      const sectionGroup = groups[sectionGroupHash];\n      if (sectionGroup) {\n        sectionGroup.sections.push(section);\n      } else {\n        groups[sectionGroupHash] = {\n          hash: sectionGroupHash,\n          meetings: sectionGroupMeetings,\n          sections: [section],\n        };\n      }\n    });\n    return groups;\n  };\n}\n\nexport default Course;\n","import { stringToTime, unique } from '../utils';\n\nclass Section {\n  constructor(course, sectionId, data) {\n    this.course = course;\n    this.id = sectionId;\n    this.crn = data.crn;\n    this.credits = data.credits;\n    this.meetings = data.meetings.map(({ days, period, instructors, where }) => ({\n      days: days === '&nbsp;' ? [] : [...days],\n      period: period === 'TBA' ? undefined : {\n        start: stringToTime(period.split(' - ')[0]),\n        end: stringToTime(period.split(' - ')[1]),\n      },\n      instructors: instructors.map(instructor => instructor.replace(/ \\(P\\)$/, '')),\n      where,\n    }));\n    this.instructors = unique(this.meetings.reduce((instructors, meeting) => [...instructors, ...meeting.instructors], []));\n  }\n}\n\nexport default Section;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport domtoimage from 'dom-to-image';\nimport saveAs from 'file-saver';\nimport { classes, isMobile } from '../../utils';\nimport { PNG_SCALE_FACTOR } from '../../constants';\nimport { Button, Calendar, CombinationsContainer, Course, CourseAdd, SemiPureComponent } from '../';\nimport { actions } from '../../reducers';\nimport { Oscar } from '../../beans';\nimport './stylesheet.scss';\n\nclass App extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      overlayCrns: [],\n      tabIndex: 0,\n    };\n\n    this.captureRef = React.createRef();\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleSetOverlayCrns = this.handleSetOverlayCrns.bind(this);\n    this.handleDownload = this.handleDownload.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('https://jasonpark.me/gt-schedule-crawler/courses.json')\n      .then(res => {\n        const oscar = new Oscar(res.data);\n        this.props.setOscar(oscar);\n      });\n\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  getTotalCredits() {\n    const { oscar } = this.props.db;\n    const { pinnedCrns } = this.props.user;\n    return pinnedCrns.reduce((credits, crn) => credits + oscar.findSection(crn).credits, 0);\n  }\n\n  handleResize(e) {\n    const { mobile } = this.props.env;\n    const nextMobile = isMobile();\n    if (mobile !== nextMobile) {\n      this.props.setMobile(nextMobile);\n    }\n  }\n\n  handleSetOverlayCrns(overlayCrns) {\n    this.setState({ overlayCrns });\n  }\n\n  handleDownload() {\n    const { current } = this.captureRef;\n    domtoimage.toPng(current, {\n      width: current.offsetWidth * PNG_SCALE_FACTOR,\n      height: current.offsetHeight * PNG_SCALE_FACTOR,\n      style: {\n        'left': 0,\n        'transform': `scale(${PNG_SCALE_FACTOR})`,\n        'transform-origin': 'top left',\n      },\n    }).then(blob => saveAs(blob, 'schedule.png'));\n  }\n\n  handleChangeTab(tabIndex) {\n    this.setState({ tabIndex });\n  }\n\n  render() {\n    const { mobile } = this.props.env;\n    const { oscar } = this.props.db;\n    const { pinnedCrns, desiredCourses } = this.props.user;\n    const { overlayCrns, tabIndex } = this.state;\n\n    return oscar && (\n      <div className={classes('App', mobile && 'mobile')}>\n        {\n          !mobile &&\n          <div className=\"calendar-container\">\n            <Calendar overlayCrns={overlayCrns}/>\n          </div>\n        }\n        <div className=\"capture-container\" ref={this.captureRef}>\n          <Calendar className=\"fake-calendar\"/>\n        </div>\n        <div className=\"sidebar\">\n          {\n            mobile &&\n            <div className=\"tab-container\">\n              {\n                ['Courses', 'Combinations', 'Calendar'].map((tabTitle, i) => (\n                  <div className={classes('tab', tabIndex === i && 'active')} onClick={() => this.handleChangeTab(i)}\n                       key={i}>\n                    {tabTitle}\n                  </div>\n                ))\n              }\n            </div>\n          }\n          <div className=\"title\">\n            <span className=\"primary\">Spring 2019</span>\n            <span className=\"secondary\">\n              {this.getTotalCredits()} Credits\n            </span>\n          </div>\n          <div className=\"scroller\">\n            <div className={classes('courses-container', tabIndex === 0 && 'active')}>\n              <div className=\"course-list\">\n                {\n                  desiredCourses.map(courseId => {\n                    return (\n                      <Course courseId={courseId} expandable key={courseId}\n                              onSetOverlayCrns={this.handleSetOverlayCrns}/>\n                    );\n                  })\n                }\n              </div>\n              <CourseAdd/>\n            </div>\n            <CombinationsContainer className={classes('combinations-container', tabIndex === 1 && 'active')}\n                                   onSetOverlayCrns={this.handleSetOverlayCrns}/>\n            {\n              mobile &&\n              <div className={classes('calendar-container', tabIndex === 2 && 'active')}>\n                <Calendar overlayCrns={overlayCrns}/>\n              </div>\n            }\n          </div>\n          {\n            pinnedCrns.length > 0 &&\n            <Button text={pinnedCrns.join(', ')}>\n              <span>Copy CRNs</span>\n            </Button>\n          }\n          <Button onClick={this.handleDownload}>\n            Download as PNG\n          </Button>\n          <Button href=\"https://github.com/parkjs814/gt-scheduler\">\n            Fork me on GitHub\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ env, db, user }) => ({ env, db, user }), actions)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { combineReducers, createStore } from 'redux';\nimport * as reducers from './reducers';\nimport App from './components/App';\nimport './stylesheet.css';\n\nconst store = createStore(combineReducers(reducers));\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}