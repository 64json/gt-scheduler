(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports=n(300)},271:function(e,t,n){},276:function(e,t,n){},278:function(e,t,n){},280:function(e,t,n){},282:function(e,t,n){},284:function(e,t,n){},286:function(e,t,n){},288:function(e,t,n){},294:function(e,t,n){},298:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"db",function(){return v}),n.d(r,"env",function(){return F}),n.d(r,"user",function(){return K}),n.d(r,"actions",function(){return J});var a=n(0),s=n.n(a),c=n(49),i=n.n(c),o=n(18),u=n(50),l=n(11),d=n(19),f=n(303),p=n(301),h=n(302),m=Object(f.a)("".concat("DB","/SET_OSCAR"),function(e){return{oscar:e}}),b={setOscar:m},v=Object(p.a)(Object(d.a)({},Object(h.a)(m),function(e,t){var n=t.payload;return Object(l.a)({},e,n)}),{oscar:null}),g=n(3),E=n(21),O=["M","T","W","R","F"],y=2,C=function(e){var t=/(\d{1,2}):(\d{2}) (a|p)m/.exec(e),n=Object(E.a)(t,4),r=n[1],a=n[2];return 60*(("p"===n[3]?12:0)+Number.parseInt(r%12))+Number.parseInt(a)},j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e/60|0,r=e%60;return"".concat(n>12?n-12:n,":").concat(r<10?"0"+r:r).concat(t?" ".concat(n<12?"a":"p","m"):"")},N=function(e){return e?"".concat(j(e.start,!1)," - ").concat(j(e.end)):"TBA"},S=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n="#",r=0;r<3;r++){var a=(Math.random()*(t-e)+e|0).toString(16);n+=(1===a.length?"0":"")+a}return n},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#BBBBBB";return.299*parseInt(e.substring(1,3),16)+.587*parseInt(e.substring(3,5),16)+.114*parseInt(e.substring(5,7),16)>128?"dark-content":"light-content"},w=function(e,t){return e.meetings.some(function(e){return t.meetings.some(function(t){return e.period&&t.period&&O.some(function(n){return e.days.includes(n)&&t.days.includes(n)})&&e.period.start<t.period.end&&t.period.start<e.period.end})})},T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")},x=function(){return window.innerWidth<768},R=function(e){return Object(g.a)(new Set(e))},A=function(e){return e.scheduleType.includes("Lab")},M=function(e){return e.scheduleType.includes("Lecture")},D=Object(f.a)("".concat("ENV","/SET_MOBILE"),function(e){return{mobile:e}}),I={setMobile:D},L={mobile:x()},F=Object(p.a)(Object(d.a)({},Object(h.a)(D),function(e,t){var n=t.payload;return Object(l.a)({},e,n)}),L),B=n(28),_=n.n(B),P=Object(f.a)("".concat("USER","/SET_TERM"),function(e){return z(e)}),U=Object(f.a)("".concat("USER","/SET_DESIRED_COURSES"),function(e){return{desiredCourses:e}}),W=Object(f.a)("".concat("USER","/SET_PINNED_CRNS"),function(e){return{pinnedCrns:e}}),H=Object(f.a)("".concat("USER","/SET_EXCLUDED_CRNS"),function(e){return{excludedCrns:e}}),Y=Object(f.a)("".concat("USER","/SET_COLOR_MAP"),function(e){return{colorMap:e}}),G=Object(f.a)("".concat("USER","/SET_SORTING_OPTION_INDEX"),function(e){return{sortingOptionIndex:e}}),V={setTerm:P,setDesiredCourses:U,setPinnedCrns:W,setExcludedCrns:H,setColorMap:Y,setSortingOptionIndex:G},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a.get("term"),t=null;try{t=JSON.parse(_.a.get(e))}catch(p){t={}}var n=t,r=n.desiredCourses,a=void 0===r?[]:r,s=n.pinnedCrns,c=void 0===s?[]:s,i=n.excludedCrns,o=void 0===i?[]:i,u=n.colorMap,l=void 0===u?{}:u,d=n.sortingOptionIndex,f=void 0===d?0:d;return a.forEach(function(e){e in l||(l[e]=S())}),{term:e,desiredCourses:a,pinnedCrns:c,excludedCrns:o,colorMap:l,sortingOptionIndex:f}};!function(){var e=_.a.get("data");e&&(_.a.set("term","201902"),_.a.set("201902",e),_.a.remove("data"))}();var q=z(),K=Object(p.a)(Object(d.a)({},Object(h.a)(P,U,W,H,Y,G),function(e,t){var n=t.payload,r=Object(l.a)({},e,n);return function(e){var t=e.term,n=e.desiredCourses,r=void 0===n?[]:n,a=e.pinnedCrns,s=void 0===a?[]:a,c=e.excludedCrns,i=void 0===c?[]:c,o=e.colorMap,u=void 0===o?{}:o,l=e.sortingOptionIndex,d=void 0===l?0:l;_.a.set("term",t),_.a.set(t,JSON.stringify({desiredCourses:r,pinnedCrns:s,excludedCrns:i,colorMap:u,sortingOptionIndex:d}),{expires:365})}(r),r}),q),J=Object(l.a)({},b,I,V),X=n(2),Z=n(4),$=n(9),Q=n(7),ee=n(8),te=n(87),ne=n.n(te),re=n(135),ae=n.n(re),se=n(136),ce=n.n(se),ie=n(90),oe=n(88),ue=function(e,t){if(!(navigator.userAgent.indexOf("MSIE")>-1&&-1==navigator.userAgent.indexOf("MSIE 10"))){"undefined"===typeof e&&(e="default"),"undefined"===typeof t&&(t="Calendar");var n=-1!==navigator.appVersion.indexOf("Win")?"\r\n":"\n",r=[],a=["BEGIN:VCALENDAR","PRODID:"+t,"VERSION:2.0"].join(n),s=n+"END:VCALENDAR",c=["SU","MO","TU","WE","TH","FR","SA"];return{events:function(){return r},calendar:function(){return a+n+r.join(n)+s},addEvent:function(t,a,s,i,o,u){if("undefined"===typeof t||"undefined"===typeof a||"undefined"===typeof s||"undefined"===typeof i||"undefined"===typeof o)return!1;if(u&&!u.rrule){if("YEARLY"!==u.freq&&"MONTHLY"!==u.freq&&"WEEKLY"!==u.freq&&"DAILY"!==u.freq)throw"Recurrence rrule frequency must be provided and be one of the following: 'YEARLY', 'MONTHLY', 'WEEKLY', or 'DAILY'";if(u.until&&isNaN(Date.parse(u.until)))throw"Recurrence rrule 'until' must be a valid date string";if(u.interval&&isNaN(parseInt(u.interval)))throw"Recurrence rrule 'interval' must be an integer";if(u.count&&isNaN(parseInt(u.count)))throw"Recurrence rrule 'count' must be an integer";if("undefined"!==typeof u.byday){if("[object Array]"!==Object.prototype.toString.call(u.byday))throw"Recurrence rrule 'byday' must be an array";if(u.byday.length>7)throw"Recurrence rrule 'byday' array must not be longer than the 7 days in a week";for(var l in u.byday=u.byday.filter(function(e,t){return u.byday.indexOf(e)==t}),u.byday)if(c.indexOf(u.byday[l])<0)throw"Recurrence rrule 'byday' values must include only the following: 'SU', 'MO', 'TU', 'WE', 'TH', 'FR', 'SA'"}}var d=new Date(i),f=new Date(o),p=new Date,h=("0000"+d.getFullYear().toString()).slice(-4),m=("00"+(d.getMonth()+1).toString()).slice(-2),b=("00"+d.getDate().toString()).slice(-2),v=("00"+d.getHours().toString()).slice(-2),g=("00"+d.getMinutes().toString()).slice(-2),E=("00"+d.getSeconds().toString()).slice(-2),O=("0000"+f.getFullYear().toString()).slice(-4),y=("00"+(f.getMonth()+1).toString()).slice(-2),C=("00"+f.getDate().toString()).slice(-2),j=("00"+f.getHours().toString()).slice(-2),N=("00"+f.getMinutes().toString()).slice(-2),S=("00"+f.getSeconds().toString()).slice(-2),k="",w="";v+g+E+j+N+S!=0&&(k="T"+v+g+E,w="T"+j+N+S);var T,x=h+m+b+k,R=O+y+C+w,A=("0000"+p.getFullYear().toString()).slice(-4)+("00"+(p.getMonth()+1).toString()).slice(-2)+("00"+p.getDate().toString()).slice(-2)+"T"+("00"+p.getHours().toString()).slice(-2)+("00"+p.getMinutes().toString()).slice(-2)+("00"+p.getSeconds().toString()).slice(-2);if(u)if(u.rrule)T=u.rrule;else{if(T="RRULE:FREQ="+u.freq,u.until){var M=new Date(Date.parse(u.until)).toISOString();T+=";UNTIL="+M.substring(0,M.length-13).replace(/[-]/g,"")+"000000Z"}u.interval&&(T+=";INTERVAL="+u.interval),u.count&&(T+=";COUNT="+u.count),u.byday&&u.byday.length>0&&(T+=";BYDAY="+u.byday.join(","))}(new Date).toISOString();var D=["BEGIN:VEVENT","UID:"+r.length+"@"+e,"CLASS:PUBLIC","DESCRIPTION:"+a,"DTSTAMP;VALUE=DATE-TIME:"+A,"DTSTART;VALUE=DATE-TIME:"+x,"DTEND;VALUE=DATE-TIME:"+R,"LOCATION:"+s,"SUMMARY;LANGUAGE=en-us:"+t,"TRANSP:TRANSPARENT","END:VEVENT"];return T&&D.splice(4,0,T),D=D.join(n),r.push(D),D},download:function(e,t){if(r.length<1)return!1;t="undefined"!==typeof t?t:".ics",e="undefined"!==typeof e?e:"calendar";var c,i=a+n+r.join(n)+s;if(-1===navigator.userAgent.indexOf("MSIE 10"))c=new Blob([i]);else{var o=new BlobBuilder;o.append(i),c=o.getBlob("text/x-vCalendar;charset="+document.characterSet)}return saveAs(c,e+t),i},build:function(){return!(r.length<1)&&a+n+r.join(n)+s}}}console.log("Unsupported Browser")},le=function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state!==t,r=!function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return n in t&&e[n]===t[n]})}(this.props,e);return n||r}}]),t}(a.Component),de=n(37),fe=n(137),pe=(n(271),n(62)),he=n.n(pe),me=function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.actions,a=e.color,c=Object(de.a)(e,["className","children","actions","color"]);return s.a.createElement("div",Object.assign({className:T("ActionRow",t)},c),n,s.a.createElement("div",{className:T("actions","default")},r.filter(function(e){return e}).map(function(e,t){var n=e.className,r=e.icon,c=Object(de.a)(e,["className","icon"]),i=Object(l.a)({key:t,className:T("action",n),children:s.a.createElement("div",{className:"icon",style:{backgroundColor:a}},s.a.createElement(fe.a,{fixedWidth:!0,icon:r}))},c);return"href"in i?s.a.createElement("a",Object.assign({},i,{rel:"noopener noreferrer",target:"_blank"})):"text"in i?s.a.createElement(he.a,i):s.a.createElement("div",i)})))}}]),t}(a.Component),be=(n(276),function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,r=Object(de.a)(e,["className","disabled"]),a=Object(l.a)({className:T("Button",t)},r);return n?s.a.createElement("button",{className:a.className,disabled:!0},a.children):"href"in a?s.a.createElement("a",Object.assign({},a,{rel:"noopener noreferrer",target:"_blank"})):"text"in a?s.a.createElement(he.a,a):s.a.createElement("button",a)}}]),t}(a.Component)),ve=(n(278),function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayCrns,r=e.preview,a=e.capture,c=this.props.env.mobile&&!a,i=this.props.user.pinnedCrns;return s.a.createElement("div",{className:T("Calendar",c&&"mobile",r&&"preview",t)},!r&&s.a.createElement("div",{className:"times"},new Array(13).fill(0).map(function(e,t){var n=480+60*t;return s.a.createElement("div",{className:"time",key:n},s.a.createElement("span",{className:"label"},function(e){var t=e/60|0;return"".concat(t>12?t-12:t).concat(t<12?"a":"p","m")}(n)))})),!r&&s.a.createElement("div",{className:"days"},O.map(function(e){return s.a.createElement("div",{className:"day",key:e},s.a.createElement("span",{className:"label"},e))})),s.a.createElement("div",{className:"meetings"},i.map(function(e){return s.a.createElement(xe,{key:e,crn:e,preview:r,capture:a})}),n&&n.filter(function(e){return!i.includes(e)}).map(function(e){return s.a.createElement(xe,{key:e,crn:e,overlay:!r,preview:r,capture:a})})))}}]),t}(le)),ge=Object(o.b)(function(e){return{env:e.env,user:e.user}},J)(ve),Ee=n(26),Oe=n(12),ye=(n(280),function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object($.a)(this,Object(Q.a)(t).call(this,e))).state={expanded:!1,paletteShown:!1},n.handleSelectColor=n.handleSelectColor.bind(Object(Ee.a)(Object(Ee.a)(n))),n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"handleRemoveCourse",value:function(e){var t=this.props.user,n=t.desiredCourses,r=t.pinnedCrns,a=t.excludedCrns,s=t.colorMap;this.props.setDesiredCourses(n.filter(function(t){return t!==e.id})),this.props.setPinnedCrns(r.filter(function(t){return!e.sections.some(function(e){return e.crn===t})})),this.props.setExcludedCrns(a.filter(function(t){return!e.sections.some(function(e){return e.crn===t})})),this.props.setColorMap(Object(l.a)({},s,Object(d.a)({},e.id,void 0)))}},{key:"handleToggleExpanded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.expanded;this.setState({expanded:e})}},{key:"handleSelectColor",value:function(e){var t=this.props.courseId,n=this.props.user.colorMap;this.props.setColorMap(Object(l.a)({},n,Object(d.a)({},t,e)))}},{key:"handleTogglePaletteShown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.paletteShown;this.setState({paletteShown:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.courseId,a=t.onAddCourse,c=t.onSetOverlayCrns,i=this.props.db.oscar,o=this.props.user,u=o.term,l=o.pinnedCrns,d=o.colorMap,f=this.state,p=f.expanded,h=f.paletteShown,m=i.findCourse(r),b=d[m.id],v=k(b),g={};m.sections.forEach(function(e){var t=Object(E.a)(e.instructors,1)[0],n=void 0===t?"Not Assigned":t;n in g||(g[n]=[]),g[n].push(e)});var O={icon:Oe.e,href:"https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_course_detail?cat_term_in=".concat(u,"&subj_code_in=").concat(m.subject,"&crse_numb_in=").concat(m.number)};return s.a.createElement("div",{className:T("Course",v,"default",n),style:{backgroundColor:b},key:m.id},s.a.createElement(me,{className:T("course-header",p&&"divider-bottom"),actions:a?[{icon:Oe.g,onClick:a},O]:[{icon:p?Oe.b:Oe.a,onClick:function(){return e.handleToggleExpanded()}},O,{icon:Oe.f,onClick:function(){return e.handleTogglePaletteShown()}},{icon:Oe.j,onClick:function(){return e.handleRemoveCourse(m)}}],color:b},s.a.createElement("div",{className:"row"},s.a.createElement("span",{className:"course_id"},m.id),s.a.createElement("span",{className:"section_ids"},m.sections.filter(function(e){return l.includes(e.crn)}).map(function(e){return e.id}).join(", "))),s.a.createElement("div",{className:"row"},s.a.createElement("span",{className:"course_title",dangerouslySetInnerHTML:{__html:m.title}}),s.a.createElement("span",{className:"section_crns"},m.sections.filter(function(e){return l.includes(e.crn)}).map(function(e){return e.crn}).join(", "))),h&&s.a.createElement(we,{className:"palette",onSelectColor:this.handleSelectColor,color:b,onMouseLeave:function(){return e.handleTogglePaletteShown(!1)}})),p&&s.a.createElement("div",{className:"course-body"},Object.keys(g).map(function(e){return s.a.createElement(ke,{key:e,color:b,name:e,sections:g[e],onSetOverlayCrns:c})})))}}]),t}(le)),Ce=Object(o.b)(function(e){return{db:e.db,user:e.user}},J)(ye),je=(n(282),function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object($.a)(this,Object(Q.a)(t).call(this,e))).state={keyword:""},n.inputRef=s.a.createRef(),n.handleChangeKeyword=n.handleChangeKeyword.bind(Object(Ee.a)(Object(Ee.a)(n))),n.handlePressEnter=n.handlePressEnter.bind(Object(Ee.a)(Object(Ee.a)(n))),n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"handleChangeKeyword",value:function(e){var t=e.target.value;this.setState({keyword:t})}},{key:"handlePressEnter",value:function(e){var t=this.props.db.oscar,n=this.state.keyword;if("Enter"===e.key){e.preventDefault();var r=t.searchCourses(n);r.length&&this.handleAddCourse(r[0])}}},{key:"handleAddCourse",value:function(e){var t=this.props.user,n=t.desiredCourses,r=t.excludedCrns,a=t.colorMap;if(!n.includes(e.id)){var s=e.sections.filter(function(e){return!e.meetings.length||e.meetings.some(function(e){return!e.days.length||!e.period})}).map(function(e){return e.crn});this.props.setDesiredCourses(Object(g.a)(n).concat([e.id])),this.props.setExcludedCrns(Object(g.a)(r).concat(Object(g.a)(s))),this.props.setColorMap(Object(l.a)({},a,Object(d.a)({},e.id,S()))),this.setState({keyword:""}),this.inputRef.current.focus()}}},{key:"render",value:function(){var e=this,t=this.props.className,n=this.props.db.oscar,r=this.props.user,a=r.desiredCourses,c=r.pinnedCrns,i=this.state.keyword;return s.a.createElement("div",{className:T("CourseAdd",t)},s.a.createElement("input",{type:"text",ref:this.inputRef,value:i,onChange:this.handleChangeKeyword,className:"keyword",placeholder:"XX 0000",onKeyPress:this.handlePressEnter}),s.a.createElement("div",{className:"autocomplete"},n.searchCourses(i).filter(function(e){return!a.includes(e.id)}).map(function(t){return s.a.createElement(Ce,{key:t.id,courseId:t.id,pinnedCrns:c,onAddCourse:function(){return e.handleAddCourse(t)}})})))}}]),t}(le)),Ne=Object(o.b)(function(e){return{db:e.db,user:e.user}},J)(je),Se=(n(284),function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object($.a)(this,Object(Q.a)(t).call(this,e))).state={expanded:!0},n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"handleTogglePinned",value:function(e){var t=this.props.user,n=t.pinnedCrns,r=t.excludedCrns;n.includes(e.crn)?this.props.setPinnedCrns(n.filter(function(t){return t!==e.crn})):(this.props.setPinnedCrns(Object(g.a)(n).concat([e.crn])),this.props.setExcludedCrns(r.filter(function(t){return t!==e.crn})))}},{key:"handleToggleExcluded",value:function(e){var t=this.props.user,n=t.pinnedCrns,r=t.excludedCrns;r.includes(e.crn)?this.props.setExcludedCrns(r.filter(function(t){return t!==e.crn})):(this.props.setExcludedCrns(Object(g.a)(r).concat([e.crn])),this.props.setPinnedCrns(n.filter(function(t){return t!==e.crn})))}},{key:"handleExcludeAll",value:function(){var e=this.props.sections,t=this.props.user,n=t.pinnedCrns,r=t.excludedCrns,a=e.map(function(e){return e.crn});this.props.setExcludedCrns(R(Object(g.a)(r).concat(Object(g.a)(a)))),this.props.setPinnedCrns(n.filter(function(e){return!a.includes(e)}))}},{key:"handleIncludeAll",value:function(){var e=this.props.sections,t=this.props.user.excludedCrns,n=e.map(function(e){return e.crn});this.props.setExcludedCrns(t.filter(function(e){return!n.includes(e)}))}},{key:"handleToggleExpanded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.expanded;this.setState({expanded:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.color,a=t.name,c=t.sections,i=t.onSetOverlayCrns,o=this.props.user,u=o.term,l=o.pinnedCrns,d=o.excludedCrns,f=this.state.expanded,p=c.every(function(e){return d.includes(e.crn)}),h=c.some(function(e){return l.includes(e.crn)});return s.a.createElement("div",{className:T("Instructor",n)},s.a.createElement(me,{className:T("name","divider-bottom",p&&"strikethrough",!h&&"inactive"),actions:[{icon:f?Oe.b:Oe.a,onClick:function(){return e.handleToggleExpanded()}},!["TBA","Not Assigned"].includes(a)&&{icon:Oe.e,href:"http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=".concat(encodeURIComponent(function(e){var t=e.split(" ");return[t.shift(),t.pop()].join(" ")}(a)))},p?{icon:Oe.d,onClick:function(){return e.handleIncludeAll()}}:{icon:Oe.c,onClick:function(){return e.handleExcludeAll()}}],color:r},a||"Not Assigned"),f&&s.a.createElement("div",{className:"sections"},c.map(function(t){var n=d.includes(t.crn),a=l.includes(t.crn);return s.a.createElement(me,{className:T("section","divider-bottom",n&&"strikethrough",!a&&"inactive"),onMouseEnter:function(){return i([t.crn])},onMouseLeave:function(){return i([])},actions:[{icon:a?Oe.i:Oe.h,onClick:function(){return e.handleTogglePinned(t)}},{icon:Oe.e,href:"https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=".concat(u,"&crn_in=").concat(t.crn)},{icon:n?Oe.d:Oe.c,onClick:function(){return e.handleToggleExcluded(t)}}],color:r,key:t.id},s.a.createElement("div",{className:"section-header"},s.a.createElement("span",{className:"section_id"},t.id)),s.a.createElement("div",{className:"meetings"},t.meetings.map(function(e,t){return s.a.createElement("div",{className:"meeting",key:t},s.a.createElement("span",{className:"days"},e.days.join("")),s.a.createElement("span",{className:"period"},N(e.period)))})))})))}}]),t}(le)),ke=Object(o.b)(function(e){return{user:e.user}},J)(Se),we=(n(286),function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.color,r=e.onSelectColor,a=Object(de.a)(e,["className","color","onSelectColor"]);return s.a.createElement("div",Object.assign({className:T("Palette",t)},a),[["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF"],["#333333","#808080","#CCCCCC","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF"],["#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]].map(function(e,t){return s.a.createElement("div",{className:"palette-row",key:t},e.map(function(e){return s.a.createElement("div",{className:T("color",e===n&&"frame"),key:e,style:{backgroundColor:e},onClick:function(){return r(e)}})}))}))}}]),t}(a.Component)),Te=(n(288),function(e){function t(){return Object(X.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.crn,r=e.overlay,a=e.preview,c=e.capture,i=this.props.db.oscar,o=this.props.env.mobile&&!c,u=this.props.user.colorMap,l=i.findSection(n),d=u[l.course.id],f=k(d);return s.a.createElement("div",{className:T("TimeBlocks",o&&"mobile",r&&"overlay",t)},l.meetings.map(function(e,t){return e.period&&e.days.map(function(n){return s.a.createElement("div",{className:T("meeting",f,"default",n),key:[t,n].join("-"),style:{top:(e.period.start-480)/780*100+"%",height:(e.period.end-e.period.start)/780*100+"%",backgroundColor:d}},!a&&s.a.createElement("div",{className:"meeting-wrapper"},s.a.createElement("span",{className:"course_id"},l.course.id,o?"":" ".concat(l.id)),s.a.createElement("span",{className:"period"},N(e.period)),!o&&s.a.createElement("span",{className:"where"},e.where),!o&&s.a.createElement("span",{className:"instructors"},e.instructors.join(", "))))})}))}}]),t}(le)),xe=Object(o.b)(function(e){return{env:e.env,db:e.db,user:e.user}},J)(Te),Re=function(){function e(t){var n=this;Object(X.a)(this,e);var r=t.courses,a=t.dateRanges,s=t.scheduleTypes,c=t.campuses;this.dateRanges=a.map(function(e){var t=e.split(" - ").map(function(e){return new Date(e)}),n=Object(E.a)(t,2),r=n[0],a=n[1];return r.setHours(0),a.setHours(23,59,59,999),{from:r,to:a}}),this.scheduleTypes=s,this.campuses=c,this.courses=Object.keys(r).map(function(e){return new Ae(n,e,r[e])}),this.courseMap={},this.crnMap={},this.courses.forEach(function(e){n.courseMap[e.id]=e,e.sections.forEach(function(e){n.crnMap[e.crn]=e})}),this.sortingOptions=[new De("Most Compact",function(e){var t=e.startMap,n=e.endMap;return+Object.keys(t).map(function(e){return n[e]-t[e]}).reduce(function(e,t){return e+t},0)}),new De("Earliest Ending",function(e){var t=e.endMap,n=Object.values(t);return+(n.reduce(function(e,t){return e+t},0)/n.length)}),new De("Latest Beginning",function(e){var t=e.startMap,n=Object.values(t);return-(n.reduce(function(e,t){return e+t},0)/n.length)})]}return Object(Z.a)(e,[{key:"findCourse",value:function(e){return this.courseMap[e]}},{key:"findSection",value:function(e){return this.crnMap[e]}},{key:"searchCourses",value:function(e){var t=/^\s*([a-zA-Z]*)\s*(\d*)\s*$/.exec(e.toUpperCase())||[],n=Object(E.a)(t,3),r=n[1],a=n[2];return r&&a?this.courses.filter(function(e){return e.subject===r&&e.number.startsWith(a)}):r?this.courses.filter(function(e){return e.subject===r}):a?this.courses.filter(function(e){return e.number.startsWith(a)}):[]}},{key:"getCombinations",value:function(e,t,n){var r=this,a=[];return function s(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(c!==e.length){var o=r.findCourse(e[c]),u=function(e){return!n.includes(e.crn)},l=function(e){return t.includes(e.crn)},d=function(e){return Object(g.a)(t).concat(Object(g.a)(i)).some(function(t){return w(r.findSection(t),e)})};if(o.hasLab){var f=o.onlyLectures.find(l),p=o.onlyLabs.find(l),h=o.allInOnes.find(l);f&&p||h?s(c+1,i):f?f.associatedLabs.filter(u).forEach(function(e){d(e)||s(c+1,Object(g.a)(i).concat([e.crn]))}):p?p.associatedLectures.filter(u).forEach(function(e){d(e)||s(c+1,Object(g.a)(i).concat([e.crn]))}):(o.onlyLectures.filter(u).forEach(function(e){d(e)||e.associatedLabs.filter(u).forEach(function(t){d(t)||s(c+1,Object(g.a)(i).concat([e.crn,t.crn]))})}),o.allInOnes.filter(u).forEach(function(e){d(e)||s(c+1,Object(g.a)(i).concat([e.crn]))}))}else o.sections.some(l)?s(c+1,i):Object.values(o.sectionGroups).forEach(function(e){var t=e.sections.find(u);t&&!d(t)&&s(c+1,Object(g.a)(i).concat([t.crn]))})}else a.push(i)}(),a.map(function(e){var n={},a={};return r.iterateTimeBlocks(Object(g.a)(t).concat(Object(g.a)(e)),function(e,t){e in n&&!(n[e]>t.start)||(n[e]=t.start),e in a&&!(a[e]<t.end)||(a[e]=t.end)}),{crns:e,startMap:n,endMap:a}})}},{key:"sortCombinations",value:function(e,t){var n=this.sortingOptions[t];return e.map(function(e){return Object(l.a)({},e,{factor:n.calculateFactor(e)})}).sort(function(e,t){return e.factor-t.factor})}},{key:"iterateTimeBlocks",value:function(e,t){var n=this;e.forEach(function(e){n.findSection(e).meetings.forEach(function(e){return e.period&&e.days.forEach(function(n){t(n,e.period)})})})}}]),e}(),Ae=function(){function e(t,n,r){var a=this;Object(X.a)(this,e);var s=Object(E.a)(r,2),c=s[0],i=s[1];this.id=n;var o=this.id.split(" "),u=Object(E.a)(o,2);this.subject=u[0],this.number=u[1],this.title=c,this.sections=Object.keys(i).map(function(e){return new Me(t,a,e,i[e])});var l=this.sections.filter(function(e){return M(e)&&!A(e)}),d=this.sections.filter(function(e){return A(e)&&!M(e)});if(this.hasLab=l.length&&d.length,this.hasLab){l.forEach(function(e){return e.associatedLabs=d.filter(function(t){return t.id.startsWith(e.id)})}),d.forEach(function(e){return e.associatedLectures=l.filter(function(t){return e.id.startsWith(t.id)})});var f=l.filter(function(e){return!e.associatedLabs.length}),p=d.filter(function(e){return!e.associatedLectures.length});f.forEach(function(e){return e.associatedLabs=p.filter(function(t){return!w(e,t)})}),p.forEach(function(e){return e.associatedLectures=f.filter(function(t){return!w(t,e)})}),this.onlyLectures=l,this.onlyLabs=d,this.allInOnes=this.sections.filter(function(e){return M(e)&&A(e)})}else this.sectionGroups=this.distinct(this.sections)}return Object(Z.a)(e,[{key:"distinct",value:function(e){var t={};return e.forEach(function(e){var n=e.meetings.map(function(e){return{days:e.days,period:e.period}}),r=JSON.stringify(n),a=t[r];a?a.sections.push(e):t[r]={hash:r,meetings:n,sections:[e]}}),t}}]),e}(),Me=function e(t,n,r,a){Object(X.a)(this,e);var s=Object(E.a)(a,5),c=s[0],i=s[1],o=s[2],u=s[3],l=s[4];this.course=n,this.id=r,this.crn=c,this.credits=o,this.scheduleType=t.scheduleTypes[u],this.campus=t.campuses[l],this.meetings=i.map(function(e){var n=Object(E.a)(e,5),r=n[0],a=n[1],s=n[2],c=n[3],i=n[4];return{period:"TBA"===r?void 0:{start:C(r.split(" - ")[0]),end:C(r.split(" - ")[1])},days:"&nbsp;"===a?[]:Object(g.a)(a),where:s,instructors:c.map(function(e){return e.replace(/ \(P\)$/,"")}),dateRange:t.dateRanges[i]}}),this.instructors=R(this.meetings.reduce(function(e,t){return Object(g.a)(e).concat(Object(g.a)(t.instructors))},[]))},De=function e(t,n){Object(X.a)(this,e),this.label=t,this.calculateFactor=n},Ie=(n(290),n(292),n(294),function(e){function t(e){var n;return Object(X.a)(this,t),(n=Object($.a)(this,Object(Q.a)(t).call(this,e))).handleResize=function(e){var t=n.props.env.mobile,r=x();t!==r&&n.props.setMobile(r)},n.handleSetOverlayCrns=function(e){n.setState({overlayCrns:e})},n.handleExport=function(){var e=n.props.db.oscar,t=n.props.user.pinnedCrns,r=ue();t.forEach(function(t){var n=e.findSection(t);n.meetings.forEach(function(e){if(e.period&&e.days.length){for(var t=e.dateRange,a=t.from,s=t.to,c=n.course.id,i=n.course.title,o=e.where,u=new Date(a);!e.days.includes(["-","M","T","W","R","F","-"][u.getDay()]);)u.setDate(u.getDate()+1);u.setHours(e.period.start/60|0,e.period.start%60);var l=new Date(u);l.setHours(e.period.end/60|0,e.period.end%60);var d={freq:"WEEKLY",until:s,byday:e.days.map(function(e){return{M:"MO",T:"TU",W:"WE",R:"TH",F:"FR"}[e]})};r.addEvent(c,i,o,u,l,d)}})}),r.download("gt-scheduler")},n.handleDownload=function(){var e=n.captureRef.current;ae.a.toPng(e,{width:e.offsetWidth*y,height:e.offsetHeight*y,style:{left:0,transform:"scale(".concat(y,")"),"transform-origin":"top left"}}).then(function(e){return ce()(e,"schedule.png")})},n.handleChangeTab=function(e){n.setState({tabIndex:e})},n.handleChangeSemester=function(e){n.props.setTerm(e),n.loadOscar(e)},n.handleSetPinnedCrns=function(e){n.props.setPinnedCrns(e)},n.handleResetPinnedCrns=function(){window.confirm("Are you sure to reset sections you selected?")&&n.props.setPinnedCrns([])},n.handleChangeSortingOptionIndex=function(e){var t=e.target.value;n.props.setSortingOptionIndex(t)},n.state={terms:[],overlayCrns:[],tabIndex:0},n.captureRef=s.a.createRef(),n}return Object(ee.a)(t,e),Object(Z.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user.term;t&&this.loadOscar(t),ne.a.get("https://jasonpark.me/gt-schedule-crawler/terms.json").then(function(n){var r=n.data.reverse();if(!t){var a=r[0];e.handleChangeSemester(a)}e.setState({terms:r})}),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"loadOscar",value:function(e){var t=this;this.props.setOscar(null),ne.a.get("https://jasonpark.me/gt-schedule-crawler/".concat(e,".json")).then(function(e){var n=new Re(e.data);t.memoizedGetCombinations=Object(ie.a)(n.getCombinations.bind(n)),t.memoizedSortCombinations=Object(ie.a)(n.sortCombinations.bind(n)),t.props.setOscar(n)})}},{key:"getTotalCredits",value:function(){var e=this.props.db.oscar;return this.props.user.pinnedCrns.reduce(function(t,n){return t+e.findSection(n).credits},0)}},{key:"render",value:function(){var e=this,t=this.props.env.mobile,n=this.props.db.oscar,r=this.props.user,a=r.term,c=r.desiredCourses,i=r.pinnedCrns,o=r.excludedCrns,u=r.sortingOptionIndex,l=this.state,d=l.terms,f=l.overlayCrns,p=l.tabIndex;if(!n)return null;var h=this.memoizedGetCombinations(c,i,o),m=this.memoizedSortCombinations(h,u);return s.a.createElement("div",{className:T("App",t&&"mobile")},(!t||2===p)&&s.a.createElement("div",{className:"calendar-container"},s.a.createElement(ge,{overlayCrns:f})),s.a.createElement("div",{className:"capture-container",ref:this.captureRef},s.a.createElement(ge,{className:"fake-calendar",capture:!0})),(!t||1===p)&&s.a.createElement("div",{className:"sidebar sidebar-combinations"},s.a.createElement("div",{className:"header"},s.a.createElement("span",{className:"secondary"},h.length," Combos"),s.a.createElement(be,{className:"primary"},s.a.createElement("select",{onChange:this.handleChangeSortingOptionIndex,value:u},n.sortingOptions.map(function(e,t){return s.a.createElement("option",{key:t,value:t},e.label)})))),s.a.createElement("div",{className:"scroller"},s.a.createElement(oe.AutoSizer,null,function(t){var n=t.width,r=t.height;return s.a.createElement(oe.List,{width:n,height:r,rowCount:m.length,rowHeight:100,rowRenderer:function(t){var n=t.index,r=t.key,a=t.style,c=m[n].crns;return s.a.createElement("div",{className:"combination",key:r,style:a,onMouseEnter:function(){return e.handleSetOverlayCrns(c)},onMouseLeave:function(){return e.handleSetOverlayCrns([])},onClick:function(){return e.handleSetPinnedCrns(Object(g.a)(i).concat(Object(g.a)(c)))}},s.a.createElement("div",{className:"number"},n+1),s.a.createElement(ge,{className:"calendar-preview",overlayCrns:c,preview:!0}))}})})),s.a.createElement("div",{className:"footer"},s.a.createElement(be,{onClick:this.handleResetPinnedCrns,disabled:0===i.length},"Reset Sections"))),(!t||0===p)&&s.a.createElement("div",{className:"sidebar sidebar-courses"},s.a.createElement("div",{className:"header"},s.a.createElement("span",{className:"secondary"},this.getTotalCredits()," Credits"),s.a.createElement(be,{className:"primary"},s.a.createElement("select",{onChange:function(t){return e.handleChangeSemester(t.target.value)},value:a},d.map(function(e){return s.a.createElement("option",{key:e,value:e},function(e){var t=e.substring(0,4),n=function(){switch(Number.parseInt(e.substring(4))){case 1:return"Winter";case 2:case 3:return"Spring";case 5:case 6:return"Summer";case 8:case 9:return"Fall";default:return"Unknown"}}();return"".concat(n," ").concat(t)}(e))})))),s.a.createElement("div",{className:"scroller"},s.a.createElement("div",{className:"course-list"},c.map(function(t){return s.a.createElement(Ce,{courseId:t,expandable:!0,key:t,onSetOverlayCrns:e.handleSetOverlayCrns})})),s.a.createElement(Ne,null)),s.a.createElement("div",{className:"footer"},s.a.createElement(be,{text:i.join(", "),disabled:0===i.length},s.a.createElement("span",null,"Copy CRNs")),s.a.createElement(be,{onClick:this.handleDownload,disabled:0===i.length},"Download as PNG"),s.a.createElement(be,{onClick:this.handleExport,disabled:0===i.length},"Export Calendar"))),t&&s.a.createElement("div",{className:"tab-container"},["Courses","Combinations","Calendar"].map(function(t,n){return s.a.createElement("div",{className:T("tab",p===n&&"active"),onClick:function(){return e.handleChangeTab(n)},key:n},t)})),s.a.createElement("a",{className:"github-fork-ribbon left-bottom fixed",href:"https://github.com/parkjs814/gt-scheduler",target:"_blank",rel:"noopener noreferrer","data-ribbon":"Fork me on GitHub",title:"Fork me on GitHub"},"Fork me on GitHub"))}}]),t}(le)),Le=Object(o.b)(function(e){return{env:e.env,db:e.db,user:e.user}},J)(Ie),Fe=(n(296),n(298),Object(u.c)(Object(u.b)(r)));i.a.render(s.a.createElement(o.a,{store:Fe},s.a.createElement(Le,null)),document.getElementById("root"))}},[[138,2,1]]]);
//# sourceMappingURL=main.6875ddae.chunk.js.map