{"version":3,"sources":["reducers/db.js","constants.js","utils.js","reducers/env.js","reducers/user.js","reducers/index.js","components/SemiPureComponent/index.jsx","components/ActionRow/index.jsx","components/Button/index.jsx","components/Calendar/index.jsx","components/CombinationsContainer/index.jsx","components/Course/index.jsx","components/CourseAdd/index.jsx","components/Instructor/index.jsx","components/Palette/index.jsx","components/TimeBlocks/index.jsx","beans/Oscar.js","beans/Course.js","beans/Section.js","components/App/index.jsx","index.js"],"names":["setOscar","createAction","concat","oscar","actions","handleActions","Object","defineProperty","combineActions","state","_ref","payload","objectSpread","DAYS","stringToTime","string","_$exec","exec","_$exec2","slicedToArray","hour","minute","Number","parseInt","timeToString","time","ampm","arguments","length","undefined","periodToString","period","start","end","getRandomColor","from","to","hex","i","component","Math","random","toString","getContentClassName","color","substring","classes","_len","classList","Array","_key","filter","c","join","isMobile","window","innerWidth","unique","array","toConsumableArray","Set","setMobile","mobile","defaultState","setDesiredCourses","desiredCourses","setPinnedCrns","pinnedCrns","setExcludedCrns","excludedCrns","setColorMap","colorMap","json","JSON","parse","Cookies","get","e","_json","_json$desiredCourses","_json$pinnedCrns","_json$excludedCrns","_json$colorMap","forEach","courseId","loadData","_ref2","newState","_ref$desiredCourses","_ref$pinnedCrns","_ref$excludedCrns","_ref$colorMap","set","stringify","expires","saveData","dbActions","envActions","userActions","SemiPureComponent","nextProps","nextState","stateChanged","this","propsChanged","a","b","aKeys","keys","bKeys","every","key","shallowCompareEntries","props","Component","ActionRow","_this$props","className","children","restProps","objectWithoutProperties","react_default","createElement","assign","action","map","icon","style","backgroundColor","index_es","fixedWidth","rel","target","lib_default","Button","Calendar","overlayCrns","preview","env","user","src","alt","fill","_","timeToShortString","day","crn","components_TimeBlocks","includes","overlay","connect","CombinationsContainer","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","sortingOptionIndex","sortingOptions","label","calculateFactor","combination","startMap","endMap","reduce","sum","min","ends","values","starts","db","memoizedGetCombinations","memoizeOne","getCombinations","bind","handleChangeSortingOptionIndex","assertThisInitialized","value","setState","_this2","onSetOverlayCrns","_this$props$user","combinations","sortingOption","sortedCombinations","factor","sort","components_Button","onClick","handleSetPinnedCrns","onChange","crns","onMouseEnter","onMouseLeave","components_Calendar","Course","expanded","paletteShown","handleSelectColor","course","id","sections","some","section","onAddCourse","_this$props$user2","_this$state","findCourse","textClassName","instructorMap","_section$instructors$","instructors","primaryInstructor","push","infoAction","faInfoCircle","href","subject","number","components_ActionRow","faPlus","faAngleUp","faAngleDown","handleToggleExpanded","faPalette","handleTogglePaletteShown","faTrash","handleRemoveCourse","dangerouslySetInnerHTML","__html","title","components_Palette","onSelectColor","name","components_Instructor","CourseAdd","keyword","inputRef","React","createRef","handleChangeKeyword","handlePressEnter","preventDefault","courses","searchCourses","handleAddCourse","tbaCrns","meetings","meeting","days","current","focus","type","ref","placeholder","onKeyPress","components_Course","Instructor","_this$props$user3","_this$props$user4","instructorExcluded","instructorPinned","encodeURIComponent","tokens","split","shift","pop","simplifyName","faCheck","handleIncludeAll","faBan","handleExcludeAll","excluded","pinned","faTimes","faThumbtack","handleTogglePinned","handleToggleExcluded","Palette","colors","paletteColor","TimeBlocks","findSection","top","height","where","Oscar","data","courseMap","crnMap","toUpperCase","startsWith","crnsList","dfs","courseIndex","isIncluded","isPinned","hasConflict","section1","section2","meeting1","meeting2","hasLab","pinnedLectures","lectures","pinnedLabs","labs","lab","lecture","sectionGroups","sectionGroup","find","iterateTimeBlocks","callback","_this3","_this$id$split","_this$id$split2","sectionId","Section","credits","distinct","groups","sectionGroupMeetings","sectionGroupHash","hash","instructor","replace","App","tabIndex","captureRef","handleResize","handleSetOverlayCrns","handleDownload","axios","then","res","addEventListener","removeEventListener","nextMobile","domtoimage","toPng","width","offsetWidth","offsetHeight","left","transform","transform-origin","blob","saveAs","tabTitle","handleChangeTab","getTotalCredits","expandable","components_CourseAdd","components_CombinationsContainer","text","store","createStore","combineReducers","reducers","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.e1c70c8d.chunk.js","sourcesContent":["import { combineActions, createAction, handleActions } from 'redux-actions';\n\nconst prefix = 'DB';\n\nconst setOscar = createAction(`${prefix}/SET_OSCAR`, oscar => ({ oscar }));\n\nexport const actions = {\n  setOscar,\n};\n\nconst defaultState = {\n  oscar: null,\n};\n\nexport default handleActions({\n  [combineActions(\n    setOscar,\n  )]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n  }),\n}, defaultState);\n","const OPEN = 8 * 60;\nconst CLOSE = 21 * 60;\nconst DAYS = ['M', 'T', 'W', 'R', 'F'];\n\nconst PNG_SCALE_FACTOR = 2;\n\nexport {\n  OPEN,\n  CLOSE,\n  DAYS,\n  PNG_SCALE_FACTOR,\n};\n","import { DAYS } from './constants';\n\nconst stringToTime = string => {\n  const [, hour, minute, ampm] = /(\\d{1,2}):(\\d{2}) (a|p)m/.exec(string);\n  return ((ampm === 'p' ? 12 : 0) + Number.parseInt(hour % 12)) * 60 + Number.parseInt(minute);\n};\n\nconst timeToString = (time, ampm = true) => {\n  const hour = time / 60 | 0;\n  const minute = time % 60;\n  return `${hour > 12 ? hour - 12 : hour}:${minute < 10 ? '0' + minute : minute}${ampm ? ` ${hour < 12 ? 'a' : 'p'}m` : ''}`;\n};\n\nconst timeToShortString = time => {\n  const hour = time / 60 | 0;\n  return `${hour > 12 ? hour - 12 : hour}${hour < 12 ? 'a' : 'p'}m`;\n};\n\nconst periodToString = period => period ? `${timeToString(period.start, false)} - ${timeToString(period.end)}` : 'TBA';\n\nconst getRandomColor = (from = 0, to = 256) => {\n  let hex = '#';\n  for (let i = 0; i < 3; i++) {\n    const component = (Math.random() * (to - from) + from | 0).toString(16);\n    hex += (component.length === 1 ? '0' : '') + component;\n  }\n  return hex;\n};\n\nconst getContentClassName = (color = '#BBBBBB') => {\n  const r = parseInt(color.substring(1, 3), 16);\n  const g = parseInt(color.substring(3, 5), 16);\n  const b = parseInt(color.substring(5, 7), 16);\n  return r * .299 + g * .587 + b * .114 > 128 ? 'dark-content' : 'light-content';\n};\n\nconst hasConflictBetween = (section1, section2) =>\n  section1.meetings.some(meeting1 =>\n    section2.meetings.some(meeting2 =>\n      meeting1.period && meeting2.period &&\n      DAYS.some(day => meeting1.days.includes(day) && meeting2.days.includes(day)) &&\n      meeting1.period.start < meeting2.period.end && meeting2.period.start < meeting1.period.end));\n\nconst classes = (...classList) => classList.filter(c => c).join(' ');\n\nconst isMobile = () => window.innerWidth < 768;\n\nconst shallowCompareEntries = (a, b) => {\n  const aKeys = Object.keys(a);\n  const bKeys = Object.keys(b);\n  return aKeys.length === bKeys.length && aKeys.every(key => key in b && a[key] === b[key]);\n};\n\nconst simplifyName = name => {\n  const tokens = name.split(' ');\n  const firstName = tokens.shift();\n  const lastName = tokens.pop();\n  return [firstName, lastName].join(' ');\n};\n\nconst unique = array => [...new Set(array)];\n\nexport {\n  stringToTime,\n  timeToString,\n  timeToShortString,\n  periodToString,\n  getRandomColor,\n  getContentClassName,\n  hasConflictBetween,\n  classes,\n  isMobile,\n  shallowCompareEntries,\n  simplifyName,\n  unique,\n};\n","import { combineActions, createAction, handleActions } from 'redux-actions';\nimport { isMobile } from '../utils';\n\nconst prefix = 'ENV';\n\nconst setMobile = createAction(`${prefix}/SET_MOBILE`, mobile => ({ mobile }));\n\nexport const actions = {\n  setMobile,\n};\n\nconst defaultState = {\n  mobile: isMobile(),\n};\n\nexport default handleActions({\n  [combineActions(\n    setMobile,\n  )]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n  }),\n}, defaultState);\n","import { combineActions, createAction, handleActions } from 'redux-actions';\nimport Cookies from 'js-cookie';\nimport { getRandomColor } from '../utils';\n\nconst prefix = 'USER';\n\nconst setDesiredCourses = createAction(`${prefix}/SET_DESIRED_COURSES`, desiredCourses => ({ desiredCourses }));\nconst setPinnedCrns = createAction(`${prefix}/SET_PINNED_CRNS`, pinnedCrns => ({ pinnedCrns }));\nconst setExcludedCrns = createAction(`${prefix}/SET_EXCLUDED_CRNS`, excludedCrns => ({ excludedCrns }));\nconst setColorMap = createAction(`${prefix}/SET_COLOR_MAP`, colorMap => ({ colorMap }));\n\nexport const actions = {\n  setDesiredCourses,\n  setPinnedCrns,\n  setExcludedCrns,\n  setColorMap,\n};\n\nconst saveData = ({ desiredCourses = [], pinnedCrns = [], excludedCrns = [], colorMap = {} }) => {\n  Cookies.set('data', JSON.stringify({ desiredCourses, pinnedCrns, excludedCrns, colorMap }), { expires: 365 });\n};\n\nconst loadData = () => {\n  let json = null;\n  try {\n    json = JSON.parse(Cookies.get('data'));\n  } catch (e) {\n    json = {};\n  }\n  const { desiredCourses = [], pinnedCrns = [], excludedCrns = [], colorMap = {} } = json;\n  desiredCourses.forEach(courseId => {\n    if (!(courseId in colorMap)) {\n      colorMap[courseId] = getRandomColor();\n    }\n  });\n  return { desiredCourses, pinnedCrns, excludedCrns, colorMap };\n};\n\nconst defaultState = loadData();\n\nexport default handleActions({\n  [combineActions(\n    setDesiredCourses,\n    setPinnedCrns,\n    setExcludedCrns,\n    setColorMap,\n  )]: (state, { payload }) => {\n    const newState = {\n      ...state,\n      ...payload,\n    };\n    saveData(newState);\n    return newState;\n  },\n}, defaultState);\n","import { actions as dbActions } from './db';\nimport { actions as envActions } from './env';\nimport { actions as userActions } from './user';\n\nexport { default as db } from './db';\nexport { default as env } from './env';\nexport { default as user } from './user';\n\nexport const actions = {\n  ...dbActions,\n  ...envActions,\n  ...userActions,\n};\n","import { Component } from 'react';\nimport { shallowCompareEntries } from '../../utils';\n\nclass SemiPureComponent extends Component {\n  shouldComponentUpdate(nextProps, nextState) {\n    const stateChanged = this.state !== nextState;\n    const propsChanged = !shallowCompareEntries(this.props, nextProps);\n    return stateChanged || propsChanged;\n  }\n}\n\nexport default SemiPureComponent;\n","import React, { Component } from 'react';\nimport { classes } from '../../utils';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './stylesheet.scss';\nimport CopyToClipboard from 'react-copy-to-clipboard';\n\nclass ActionRow extends Component {\n  render() {\n    const { className, children, actions, color, ...restProps } = this.props;\n\n    return (\n      <div className={classes('ActionRow', className)} {...restProps}>\n        {children}\n        <div className={classes('actions', 'default')}>\n          {\n            actions.filter(action => action).map(({ className, icon, ...restProps }, i) => {\n              const props = {\n                key: i,\n                className: classes('action', className),\n                children: (\n                  <div className=\"icon\" style={{ backgroundColor: color }}>\n                    <FontAwesomeIcon fixedWidth icon={icon}/>\n                  </div>\n                ),\n                ...restProps,\n              };\n              return 'href' in props ? (\n                <a {...props} rel=\"noopener noreferrer\" target=\"_blank\"/>\n              ) : 'text' in props ? (\n                <CopyToClipboard {...props}/>\n              ) : (\n                <div {...props}/>\n              );\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default ActionRow;\n","import React, { Component } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { classes } from '../../utils';\nimport './stylesheet.scss';\n\nclass Button extends Component {\n  render() {\n    const { className, ...restProps } = this.props;\n\n    const props = {\n      className: classes('Button', className),\n      ...restProps,\n    };\n\n    return 'href' in props ? (\n      <a {...props} rel=\"noopener noreferrer\" target=\"_blank\"/>\n    ) : 'text' in props ? (\n      <CopyToClipboard {...props}/>\n    ) : (\n      <div {...props}/>\n    );\n  }\n}\n\n\nexport default Button;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { CLOSE, DAYS, OPEN } from '../../constants';\nimport { classes, timeToShortString } from '../../utils';\nimport { actions } from '../../reducers';\nimport { SemiPureComponent, TimeBlocks } from '../';\nimport './stylesheet.scss';\n\nclass Calendar extends SemiPureComponent {\n  render() {\n    const { className, overlayCrns, preview } = this.props;\n    const { mobile } = this.props.env;\n    const { pinnedCrns } = this.props.user;\n\n    return (\n      <div className={classes('Calendar', mobile && 'mobile', preview && 'preview', className)}>\n        {\n          preview &&\n          <img className=\"ratio\" src=\"5x2.png\" alt=\"\"/>\n        }\n        {\n          !preview &&\n          <div className=\"times\">\n            {\n              new Array((CLOSE - OPEN) / 60).fill(0).map((_, i) => {\n                const time = OPEN + i * 60;\n                return (\n                  <div className=\"time\" key={time}>\n                    <span className=\"label\">\n                      {timeToShortString(time)}\n                    </span>\n                  </div>\n                );\n              })\n            }\n          </div>\n        }\n        {\n          !preview &&\n          <div className=\"days\">\n            {\n              DAYS.map(day => (\n                <div className=\"day\" key={day}>\n                    <span className=\"label\">\n                      {day}\n                    </span>\n                </div>\n              ))\n            }\n          </div>\n        }\n        <div className=\"meetings\">\n          {\n            pinnedCrns.map(crn => (\n              <TimeBlocks key={crn} crn={crn} preview={preview}/>\n            ))\n          }\n          {\n            overlayCrns &&\n            overlayCrns.filter(crn => !pinnedCrns.includes(crn)).map(crn => (\n              <TimeBlocks key={crn} crn={crn} overlay={!preview} preview={preview}/>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ env, user }) => ({ env, user }), actions)(Calendar);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport memoizeOne from 'memoize-one';\nimport { Button, Calendar, SemiPureComponent } from '../';\nimport { classes } from '../../utils';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass CombinationsContainer extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortingOptionIndex: 0,\n    };\n\n    this.sortingOptions = [{\n      label: 'Most Compact',\n      calculateFactor: combination => {\n        const { startMap, endMap } = combination;\n        const diffs = Object.keys(startMap).map(day => endMap[day] - startMap[day]);\n        const sum = diffs.reduce((sum, min) => sum + min, 0);\n        return +sum;\n      },\n    }, {\n      label: 'Earliest Ending',\n      calculateFactor: combination => {\n        const { endMap } = combination;\n        const ends = Object.values(endMap);\n        const sum = ends.reduce((sum, end) => sum + end, 0);\n        const avg = sum / ends.length;\n        return +avg;\n      },\n    }, {\n      label: 'Latest Beginning',\n      calculateFactor: combination => {\n        const { startMap } = combination;\n        const starts = Object.values(startMap);\n        const sum = starts.reduce((sum, min) => sum + min, 0);\n        const avg = sum / starts.length;\n        return -avg;\n      },\n    }];\n\n    const { oscar } = this.props.db;\n\n    this.memoizedGetCombinations = memoizeOne(oscar.getCombinations.bind(oscar));\n    this.handleChangeSortingOptionIndex = this.handleChangeSortingOptionIndex.bind(this);\n  }\n\n  handleSetPinnedCrns(pinnedCrns) {\n    this.props.setPinnedCrns(pinnedCrns);\n  }\n\n  handleChangeSortingOptionIndex(e) {\n    const sortingOptionIndex = e.target.value;\n    this.setState({ sortingOptionIndex });\n  }\n\n  render() {\n    const { className, onSetOverlayCrns } = this.props;\n    const { desiredCourses, pinnedCrns, excludedCrns } = this.props.user;\n    const { sortingOptionIndex } = this.state;\n\n    const combinations = this.memoizedGetCombinations(desiredCourses, pinnedCrns, excludedCrns);\n    const sortingOption = this.sortingOptions[sortingOptionIndex];\n    const sortedCombinations = combinations.map(combination => ({\n      ...combination,\n      factor: sortingOption.calculateFactor(combination),\n    })).sort((a, b) => a.factor - b.factor);\n\n    return (\n      <div className={classes('CombinationsContainer', className)}>\n        {\n          pinnedCrns.length > 0 &&\n          <Button onClick={() => this.handleSetPinnedCrns([])}>\n            Reset Sections\n          </Button>\n        }\n        <Button className=\"sorting-option\">\n          <select onChange={this.handleChangeSortingOptionIndex} value={sortingOptionIndex}>\n            {\n              this.sortingOptions.map((sortingOption, i) => (\n                <option key={i} value={i}>{sortingOption.label}</option>\n              ))\n            }\n          </select>\n        </Button>\n        <div className=\"combinations\">\n          {\n            sortedCombinations.map(({ crns }, i) => (\n              <div className=\"combination\" key={i}\n                   onMouseEnter={() => onSetOverlayCrns(crns)}\n                   onMouseLeave={() => onSetOverlayCrns([])}\n                   onClick={() => this.handleSetPinnedCrns([...pinnedCrns, ...crns])}>\n                <div className=\"number\">{i + 1}</div>\n                <Calendar className=\"preview\" overlayCrns={crns} preview/>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(CombinationsContainer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { faAngleDown, faAngleUp, faInfoCircle, faPalette, faPlus, faTrash } from '@fortawesome/free-solid-svg-icons';\nimport { classes, getContentClassName } from '../../utils';\nimport { actions } from '../../reducers';\nimport { ActionRow, Instructor, Palette, SemiPureComponent } from '../';\nimport './stylesheet.scss';\n\nclass Course extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: false,\n      paletteShown: false,\n    };\n\n    this.handleSelectColor = this.handleSelectColor.bind(this);\n  }\n\n  handleRemoveCourse(course) {\n    const { desiredCourses, pinnedCrns, excludedCrns, colorMap } = this.props.user;\n    this.props.setDesiredCourses(desiredCourses.filter(courseId => courseId !== course.id));\n    this.props.setPinnedCrns(pinnedCrns.filter(crn => !course.sections.some(section => section.crn === crn)));\n    this.props.setExcludedCrns(excludedCrns.filter(crn => !course.sections.some(section => section.crn === crn)));\n    this.props.setColorMap({ ...colorMap, [course.id]: undefined });\n  }\n\n  handleToggleExpanded(expanded = !this.state.expanded) {\n    this.setState({ expanded });\n  }\n\n  handleSelectColor(color) {\n    const { courseId } = this.props;\n    const { colorMap } = this.props.user;\n    this.props.setColorMap({ ...colorMap, [courseId]: color });\n  }\n\n  handleTogglePaletteShown(paletteShown = !this.state.paletteShown) {\n    this.setState({ paletteShown });\n  }\n\n  render() {\n    const { className, courseId, onAddCourse, onSetOverlayCrns } = this.props;\n    const { oscar } = this.props.db;\n    const { pinnedCrns, colorMap } = this.props.user;\n    const { expanded, paletteShown } = this.state;\n\n    const course = oscar.findCourse(courseId);\n    const color = colorMap[course.id];\n    const textClassName = getContentClassName(color);\n\n    const instructorMap = {};\n    course.sections.forEach(section => {\n      const [primaryInstructor = 'Not Assigned'] = section.instructors;\n      if (!(primaryInstructor in instructorMap)) {\n        instructorMap[primaryInstructor] = [];\n      }\n      instructorMap[primaryInstructor].push(section);\n    });\n\n    const infoAction = {\n      icon: faInfoCircle,\n      href: `https://oscar.gatech.edu/pls/bprod/bwckctlg.p_disp_course_detail?cat_term_in=201902&subj_code_in=${course.subject}&crse_numb_in=${course.number}`,\n    };\n\n\n    return (\n      <div className={classes('Course', textClassName, 'default', className)} style={{ backgroundColor: color }}\n           key={course.id}>\n        <ActionRow className={classes('course-header', expanded && 'divider-bottom')} actions={onAddCourse ? [\n          { icon: faPlus, onClick: onAddCourse },\n          infoAction,\n        ] : [\n          { icon: expanded ? faAngleUp : faAngleDown, onClick: () => this.handleToggleExpanded() },\n          infoAction,\n          { icon: faPalette, onClick: () => this.handleTogglePaletteShown() },\n          { icon: faTrash, onClick: () => this.handleRemoveCourse(course) },\n        ]} color={color}>\n          <div className=\"row\">\n            <span className=\"course_id\">{course.id}</span>\n            <span className=\"section_ids\">\n              {course.sections.filter(section => pinnedCrns.includes(section.crn)).map(section => section.id).join(', ')}\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"course_title\" dangerouslySetInnerHTML={{ __html: course.title }}/>\n            <span className=\"section_crns\">\n              {course.sections.filter(section => pinnedCrns.includes(section.crn)).map(section => section.crn).join(', ')}\n            </span>\n          </div>\n          {\n            paletteShown &&\n            <Palette className=\"palette\" onSelectColor={this.handleSelectColor} color={color}\n                     onMouseLeave={() => this.handleTogglePaletteShown(false)}/>\n          }\n        </ActionRow>\n        {\n          expanded &&\n          <div className=\"course-body\">\n            {\n              Object.keys(instructorMap).map(name => (\n                <Instructor key={name} color={color} name={name} sections={instructorMap[name]}\n                            onSetOverlayCrns={onSetOverlayCrns}/>\n              ))\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(Course);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Course, SemiPureComponent } from '../';\nimport { classes, getRandomColor } from '../../utils';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass CourseAdd extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      keyword: '',\n    };\n\n    this.inputRef = React.createRef();\n\n    this.handleChangeKeyword = this.handleChangeKeyword.bind(this);\n    this.handlePressEnter = this.handlePressEnter.bind(this);\n  }\n\n  handleChangeKeyword(e) {\n    const keyword = e.target.value;\n    this.setState({ keyword });\n  }\n\n  handlePressEnter(e) {\n    const { oscar } = this.props.db;\n    const { keyword } = this.state;\n\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      const courses = oscar.searchCourses(keyword);\n      if (courses.length) this.handleAddCourse(courses[0]);\n    }\n  }\n\n  handleAddCourse(course) {\n    const { desiredCourses, excludedCrns, colorMap } = this.props.user;\n    if (desiredCourses.includes(course.id)) return;\n    const tbaCrns = course.sections\n      .filter(section => !section.meetings.length || section.meetings.some(meeting => !meeting.days.length || !meeting.period))\n      .map(section => section.crn);\n    this.props.setDesiredCourses([...desiredCourses, course.id]);\n    this.props.setExcludedCrns([...excludedCrns, ...tbaCrns]);\n    this.props.setColorMap({ ...colorMap, [course.id]: getRandomColor() });\n\n    this.setState({ keyword: '' });\n    this.inputRef.current.focus();\n  }\n\n  render() {\n    const { className } = this.props;\n    const { oscar } = this.props.db;\n    const { desiredCourses, pinnedCrns } = this.props.user;\n    const { keyword } = this.state;\n\n    return (\n      <div className={classes('CourseAdd', className)}>\n        <input type=\"text\" ref={this.inputRef} value={keyword} onChange={this.handleChangeKeyword}\n               className=\"keyword\"\n               placeholder=\"XX 0000\" onKeyPress={this.handlePressEnter}/>\n        <div className=\"autocomplete\">\n          {\n            oscar.searchCourses(keyword).filter(course => !desiredCourses.includes(course.id)).map(course => (\n              <Course key={course.id} courseId={course.id} pinnedCrns={pinnedCrns}\n                      onAddCourse={() => this.handleAddCourse(course)}/>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ db, user }) => ({ db, user }), actions)(CourseAdd);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  faAngleDown,\n  faAngleUp,\n  faBan,\n  faCheck,\n  faInfoCircle,\n  faThumbtack,\n  faTimes,\n} from '@fortawesome/free-solid-svg-icons';\nimport { classes, periodToString, simplifyName, unique } from '../../utils';\nimport { actions } from '../../reducers';\nimport { ActionRow, SemiPureComponent } from '../';\nimport './stylesheet.scss';\n\nclass Instructor extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: true,\n    };\n  }\n\n  handleTogglePinned(section) {\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    if (pinnedCrns.includes(section.crn)) {\n      this.props.setPinnedCrns(pinnedCrns.filter(crn => crn !== section.crn));\n    } else {\n      this.props.setPinnedCrns([...pinnedCrns, section.crn]);\n      this.props.setExcludedCrns(excludedCrns.filter(crn => crn !== section.crn));\n    }\n  }\n\n  handleToggleExcluded(section) {\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    if (excludedCrns.includes(section.crn)) {\n      this.props.setExcludedCrns(excludedCrns.filter(crn => crn !== section.crn));\n    } else {\n      this.props.setExcludedCrns([...excludedCrns, section.crn]);\n      this.props.setPinnedCrns(pinnedCrns.filter(crn => crn !== section.crn));\n    }\n  }\n\n  handleExcludeAll() {\n    const { sections } = this.props;\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    const crns = sections.map(section => section.crn);\n    this.props.setExcludedCrns(unique([...excludedCrns, ...crns]));\n    this.props.setPinnedCrns(pinnedCrns.filter(crn => !crns.includes(crn)));\n  }\n\n  handleIncludeAll() {\n    const { sections } = this.props;\n    const { excludedCrns } = this.props.user;\n    const crns = sections.map(section => section.crn);\n    this.props.setExcludedCrns(excludedCrns.filter(crn => !crns.includes(crn)));\n  }\n\n  handleToggleExpanded(expanded = !this.state.expanded) {\n    this.setState({ expanded });\n  }\n\n  render() {\n    const { className, color, name, sections, onSetOverlayCrns } = this.props;\n    const { pinnedCrns, excludedCrns } = this.props.user;\n    const { expanded } = this.state;\n\n    const instructorExcluded = sections.every(section => excludedCrns.includes(section.crn));\n    const instructorPinned = sections.some(section => pinnedCrns.includes(section.crn));\n\n    return (\n      <div className={classes('Instructor', className)}>\n        <ActionRow\n          className={classes('name', 'divider-bottom', instructorExcluded && 'strikethrough', !instructorPinned && 'inactive')}\n          actions={[\n            { icon: expanded ? faAngleUp : faAngleDown, onClick: () => this.handleToggleExpanded() },\n            !['TBA', 'Not Assigned'].includes(name) && {\n              icon: faInfoCircle,\n              href: `http://www.ratemyprofessors.com/search.jsp?queryBy=teacherName&schoolName=Georgia+Institute+of+Technology&query=${encodeURIComponent(simplifyName(name))}`,\n            },\n            instructorExcluded ?\n              { icon: faCheck, onClick: () => this.handleIncludeAll() } :\n              { icon: faBan, onClick: () => this.handleExcludeAll() },\n          ]} color={color}>\n          {name || 'Not Assigned'}\n        </ActionRow>\n        {\n          expanded &&\n          <div className=\"sections\">\n            {\n              sections.map(section => {\n                const excluded = excludedCrns.includes(section.crn);\n                const pinned = pinnedCrns.includes(section.crn);\n                return (\n                  <ActionRow\n                    className={classes('section', 'divider-bottom', excluded && 'strikethrough', !pinned && 'inactive')}\n                    onMouseEnter={() => onSetOverlayCrns([section.crn])}\n                    onMouseLeave={() => onSetOverlayCrns([])} actions={[\n                    { icon: pinned ? faTimes : faThumbtack, onClick: () => this.handleTogglePinned(section) },\n                    {\n                      icon: faInfoCircle,\n                      href: `https://oscar.gatech.edu/pls/bprod/bwckschd.p_disp_detail_sched?term_in=201902&crn_in=${section.crn}`,\n                    },\n                    { icon: excluded ? faCheck : faBan, onClick: () => this.handleToggleExcluded(section) },\n                  ]} color={color} key={section.id}>\n                    <div className=\"section-header\">\n                      <span className=\"section_id\">{section.id}</span>\n                    </div>\n                    <div className=\"meetings\">\n                      {\n                        section.meetings.map((meeting, i) => {\n                          return (\n                            <div className=\"meeting\" key={i}>\n                              <span className=\"days\">{meeting.days.join('')}</span>\n                              <span className=\"period\">{periodToString(meeting.period)}</span>\n                            </div>\n                          );\n                        })\n                      }\n                    </div>\n                  </ActionRow>\n                );\n              })\n            }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ user }) => ({ user }), actions)(Instructor);\n","import React, { Component } from 'react';\nimport { classes } from '../../utils';\nimport './stylesheet.scss';\n\nclass Palette extends Component {\n  render() {\n    const { className, color, onSelectColor, ...restProps } = this.props;\n\n    return (\n      <div className={classes('Palette', className)} {...restProps}>\n        {\n          [\n            ['#4D4D4D', '#999999', '#FFFFFF', '#F44E3B', '#FE9200', '#FCDC00', '#DBDF00', '#A4DD00', '#68CCCA', '#73D8FF', '#AEA1FF', '#FDA1FF'],\n            ['#333333', '#808080', '#CCCCCC', '#D33115', '#E27300', '#FCC400', '#B0BC00', '#68BC00', '#16A5A5', '#009CE0', '#7B64FF', '#FA28FF'],\n            ['#000000', '#666666', '#B3B3B3', '#9F0500', '#C45100', '#FB9E00', '#808900', '#194D33', '#0C797D', '#0062B1', '#653294', '#AB149E'],\n          ].map((colors, i) => (\n            <div className=\"palette-row\" key={i}>\n              {\n                colors.map(paletteColor => (\n                  <div className={classes('color', paletteColor === color && 'frame')} key={paletteColor}\n                       style={{ backgroundColor: paletteColor }} onClick={() => onSelectColor(paletteColor)}/>),\n                )\n              }\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default Palette;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { classes, getContentClassName, periodToString } from '../../utils';\nimport { CLOSE, OPEN } from '../../constants';\nimport { SemiPureComponent } from '../';\nimport { actions } from '../../reducers';\nimport './stylesheet.scss';\n\nclass TimeBlocks extends SemiPureComponent {\n  render() {\n    const { className, crn, overlay, preview } = this.props;\n    const { oscar } = this.props.db;\n    const { mobile } = this.props.env;\n    const { colorMap } = this.props.user;\n\n    const section = oscar.findSection(crn);\n    const color = colorMap[section.course.id];\n    const textClassName = getContentClassName(color);\n\n    return (\n      <div className={classes('TimeBlocks', mobile && 'mobile', overlay && 'overlay', className)}>\n        {\n          section.meetings.map((meeting, i) => meeting.period && (\n            meeting.days.map(day => (\n              <div className={classes('meeting', textClassName, 'default', day)} key={[i, day].join('-')}\n                   style={{\n                     top: (meeting.period.start - OPEN) / (CLOSE - OPEN) * 100 + '%',\n                     height: (meeting.period.end - meeting.period.start) / (CLOSE - OPEN) * 100 + '%',\n                     backgroundColor: color,\n                   }}>\n                {\n                  !preview &&\n                  <div className=\"meeting-wrapper\">\n                    <span className=\"course_id\">{section.course.id}{mobile ? '' : ` ${section.id}`}</span>\n                    <span className=\"period\">{periodToString(meeting.period)}</span>\n                    {\n                      !mobile &&\n                      <span className=\"where\">{meeting.where}</span>\n                    }\n                    {\n                      !mobile &&\n                      <span className=\"instructors\">{meeting.instructors.join(', ')}</span>\n                    }\n                  </div>\n                }\n              </div>\n            ))\n          ))\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default connect(({ env, db, user }) => ({ env, db, user }), actions)(TimeBlocks);\n","import { Course } from './';\nimport { hasConflictBetween } from '../utils';\n\nclass Oscar {\n  constructor(data) {\n    this.courses = Object.keys(data).map(courseId => new Course(courseId, data[courseId]));\n    this.courseMap = {};\n    this.crnMap = {};\n    this.courses.forEach(course => {\n      this.courseMap[course.id] = course;\n      course.sections.forEach(section => {\n        this.crnMap[section.crn] = section;\n      });\n    });\n  }\n\n  findCourse(courseId) {\n    return this.courseMap[courseId];\n  }\n\n  findSection(crn) {\n    return this.crnMap[crn];\n  }\n\n  searchCourses(keyword) {\n    const [, subject, number] = /^\\s*([a-zA-Z]*)\\s*(\\d*)\\s*$/.exec(keyword.toUpperCase()) || [];\n    if (subject && number) {\n      return this.courses.filter(course => course.subject === subject && course.number.startsWith(number));\n    } else if (subject) {\n      return this.courses.filter(course => course.subject === subject);\n    } else if (number) {\n      return this.courses.filter(course => course.number.startsWith(number));\n    } else {\n      return [];\n    }\n  }\n\n  getCombinations(desiredCourses, pinnedCrns, excludedCrns) {\n    const crnsList = [];\n    const dfs = (courseIndex = 0, crns = []) => {\n      if (courseIndex === desiredCourses.length) {\n        crnsList.push(crns);\n        return;\n      }\n      const course = this.findCourse(desiredCourses[courseIndex]);\n      const isIncluded = section => !excludedCrns.includes(section.crn);\n      const isPinned = section => pinnedCrns.includes(section.crn);\n      const hasConflict = section => [...pinnedCrns, ...crns].some(crn => hasConflictBetween(this.findSection(crn), section));\n      if (course.hasLab) {\n        const pinnedLectures = course.lectures.filter(isPinned);\n        const pinnedLabs = course.labs.filter(isPinned);\n        if (pinnedLabs.length) {\n          pinnedLabs.forEach(lab => {\n            lab.lectures.filter(isIncluded).forEach(lecture => {\n              if (isPinned(lecture)) {\n                dfs(courseIndex + 1, crns);\n              } else {\n                if (hasConflict(lecture)) return;\n                dfs(courseIndex + 1, [...crns, lecture.crn]);\n              }\n            });\n          });\n        } else if (pinnedLectures.length) {\n          pinnedLectures.forEach(lecture => {\n            lecture.labs.filter(isIncluded).forEach(lab => {\n              if (hasConflict(lab)) return;\n              dfs(courseIndex + 1, [...crns, lab.crn]);\n            });\n          });\n        } else {\n          course.lectures.filter(isIncluded).forEach(lecture => {\n            if (hasConflict(lecture)) return;\n            lecture.labs.filter(isIncluded).forEach(lab => {\n              if (hasConflict(lab)) return;\n              dfs(courseIndex + 1, [...crns, lecture.crn, lab.crn]);\n            });\n          });\n        }\n      } else {\n        if (course.sections.some(isPinned)) {\n          dfs(courseIndex + 1, crns);\n        } else {\n          Object.values(course.sectionGroups).forEach(sectionGroup => {\n            const section = sectionGroup.sections.find(isIncluded);\n            if (!section || hasConflict(section)) return;\n            dfs(courseIndex + 1, [...crns, section.crn]);\n          });\n        }\n      }\n    };\n    dfs();\n    return crnsList.map(crns => {\n      const startMap = {};\n      const endMap = {};\n      this.iterateTimeBlocks([...pinnedCrns, ...crns], (day, period) => {\n        if (!(day in startMap) || startMap[day] > period.start) startMap[day] = period.start;\n        if (!(day in endMap) || endMap[day] < period.end) endMap[day] = period.end;\n      });\n      return {\n        crns,\n        startMap,\n        endMap,\n      }\n    });\n  }\n\n  iterateTimeBlocks(crns, callback) {\n    crns.forEach(crn => {\n      this.findSection(crn).meetings.forEach(meeting => meeting.period && (\n        meeting.days.forEach(day => {\n          callback(day, meeting.period);\n        })\n      ));\n    });\n  }\n}\n\nexport default Oscar;\n","import { Section } from './';\n\nclass Course {\n  constructor(courseId, data) {\n    this.id = courseId;\n    [this.subject, this.number] = this.id.split(' ');\n    this.title = data.title;\n    this.sections = Object.keys(data.sections).map(sectionId => new Section(this, sectionId, data.sections[sectionId]));\n\n    const lectures = this.sections.filter(section => section.credits > 0);\n    const labs = this.sections.filter(section => section.credits === 0);\n    this.hasLab = !this.id.startsWith('VIP') && lectures.length && labs.length;\n    if (this.hasLab) {\n      this.lectures = lectures;\n      this.labs = labs;\n      this.lectures.forEach(lecture => lecture.labs = this.labs.filter(lab => lab.id.startsWith(lecture.id)));\n      this.labs.forEach(lab => lab.lectures = this.lectures.filter(lecture => lab.id.startsWith(lecture.id)));\n      if (this.lectures.every(lecture => !lecture.labs.length)) {\n        this.lectures.forEach(lecture => lecture.labs = this.labs);\n        this.labs.forEach(lab => lab.lectures = this.lectures);\n      }\n    } else {\n      this.sectionGroups = this.distinct(this.sections);\n    }\n  }\n\n  distinct(sections) {\n    let groups = {};\n    sections.forEach(section => {\n      const sectionGroupMeetings = section.meetings.map(({ days, period }) => ({ days, period }));\n      const sectionGroupHash = JSON.stringify(sectionGroupMeetings);\n      const sectionGroup = groups[sectionGroupHash];\n      if (sectionGroup) {\n        sectionGroup.sections.push(section);\n      } else {\n        groups[sectionGroupHash] = {\n          hash: sectionGroupHash,\n          meetings: sectionGroupMeetings,\n          sections: [section],\n        };\n      }\n    });\n    return groups;\n  };\n}\n\nexport default Course;\n","import { stringToTime, unique } from '../utils';\n\nclass Section {\n  constructor(course, sectionId, data) {\n    this.course = course;\n    this.id = sectionId;\n    this.crn = data.crn;\n    this.credits = data.credits;\n    this.meetings = data.meetings.map(({ days, period, instructors, where }) => ({\n      days: days === '&nbsp;' ? [] : [...days],\n      period: period === 'TBA' ? undefined : {\n        start: stringToTime(period.split(' - ')[0]),\n        end: stringToTime(period.split(' - ')[1]),\n      },\n      instructors: instructors.map(instructor => instructor.replace(/ \\(P\\)$/, '')),\n      where,\n    }));\n    this.instructors = unique(this.meetings.reduce((instructors, meeting) => [...instructors, ...meeting.instructors], []));\n  }\n}\n\nexport default Section;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport domtoimage from 'dom-to-image';\nimport saveAs from 'file-saver';\nimport { classes, isMobile } from '../../utils';\nimport { PNG_SCALE_FACTOR } from '../../constants';\nimport { Button, Calendar, CombinationsContainer, Course, CourseAdd, SemiPureComponent } from '../';\nimport { actions } from '../../reducers';\nimport { Oscar } from '../../beans';\nimport './stylesheet.scss';\n\nclass App extends SemiPureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      overlayCrns: [],\n      tabIndex: 0,\n    };\n\n    this.captureRef = React.createRef();\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleSetOverlayCrns = this.handleSetOverlayCrns.bind(this);\n    this.handleDownload = this.handleDownload.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('https://jasonpark.me/gt-schedule-crawler/courses.json')\n      .then(res => {\n        const oscar = new Oscar(res.data);\n        this.props.setOscar(oscar);\n      });\n\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  getTotalCredits() {\n    const { oscar } = this.props.db;\n    const { pinnedCrns } = this.props.user;\n    return pinnedCrns.reduce((credits, crn) => credits + oscar.findSection(crn).credits, 0);\n  }\n\n  handleResize(e) {\n    const { mobile } = this.props.env;\n    const nextMobile = isMobile();\n    if (mobile !== nextMobile) {\n      this.props.setMobile(nextMobile);\n    }\n  }\n\n  handleSetOverlayCrns(overlayCrns) {\n    this.setState({ overlayCrns });\n  }\n\n  handleDownload() {\n    const { current } = this.captureRef;\n    domtoimage.toPng(current, {\n      width: current.offsetWidth * PNG_SCALE_FACTOR,\n      height: current.offsetHeight * PNG_SCALE_FACTOR,\n      style: {\n        'left': 0,\n        'transform': `scale(${PNG_SCALE_FACTOR})`,\n        'transform-origin': 'top left',\n      },\n    }).then(blob => saveAs(blob, 'schedule.png'));\n  }\n\n  handleChangeTab(tabIndex) {\n    this.setState({ tabIndex });\n  }\n\n  render() {\n    const { mobile } = this.props.env;\n    const { oscar } = this.props.db;\n    const { pinnedCrns, desiredCourses } = this.props.user;\n    const { overlayCrns, tabIndex } = this.state;\n\n    return oscar && (\n      <div className={classes('App', mobile && 'mobile')}>\n        {\n          !mobile &&\n          <div className=\"calendar-container\">\n            <Calendar overlayCrns={overlayCrns}/>\n          </div>\n        }\n        <div className=\"capture-container\" ref={this.captureRef}>\n          <Calendar className=\"fake-calendar\"/>\n        </div>\n        <div className=\"sidebar\">\n          {\n            mobile &&\n            <div className=\"tab-container\">\n              {\n                ['Courses', 'Combinations', 'Calendar'].map((tabTitle, i) => (\n                  <div className={classes('tab', tabIndex === i && 'active')} onClick={() => this.handleChangeTab(i)}\n                       key={i}>\n                    {tabTitle}\n                  </div>\n                ))\n              }\n            </div>\n          }\n          <div className=\"title\">\n            <span className=\"primary\">Spring 2019</span>\n            <span className=\"secondary\">\n              {this.getTotalCredits()} Credits\n            </span>\n          </div>\n          <div className=\"scroller\">\n            <div className={classes('courses-container', tabIndex === 0 && 'active')}>\n              <div className=\"course-list\">\n                {\n                  desiredCourses.map(courseId => {\n                    return (\n                      <Course courseId={courseId} expandable key={courseId}\n                              onSetOverlayCrns={this.handleSetOverlayCrns}/>\n                    );\n                  })\n                }\n              </div>\n              <CourseAdd/>\n            </div>\n            <CombinationsContainer className={classes('combinations-container', tabIndex === 1 && 'active')}\n                                   onSetOverlayCrns={this.handleSetOverlayCrns}/>\n            {\n              mobile &&\n              <div className={classes('calendar-container', tabIndex === 2 && 'active')}>\n                <Calendar overlayCrns={overlayCrns}/>\n              </div>\n            }\n          </div>\n          {\n            pinnedCrns.length > 0 &&\n            <Button text={pinnedCrns.join(', ')}>\n              <span>Copy CRNs</span>\n            </Button>\n          }\n          <Button onClick={this.handleDownload}>\n            Download as PNG\n          </Button>\n          <Button href=\"https://github.com/parkjs814/gt-scheduler\">\n            Fork me on GitHub\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(({ env, db, user }) => ({ env, db, user }), actions)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { combineReducers, createStore } from 'redux';\nimport * as reducers from './reducers';\nimport App from './components/App';\nimport './stylesheet.scss';\n\nconst store = createStore(combineReducers(reducers));\n\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\n"],"sourceRoot":""}