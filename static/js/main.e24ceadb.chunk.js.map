{"version":3,"sources":["utils.js","Course.jsx","Section.jsx","constants.js","Calendar.jsx","Combinations.jsx","App.jsx","index.js"],"names":["stringToTime","string","_$exec","exec","_$exec2","Object","slicedToArray","hour","minute","Number","parseInt","timeToString","time","ampm","arguments","length","undefined","concat","periodToString","period","start","end","classes","_len","classList","Array","_key","filter","c","join","Course","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","expanded","setState","_this2","_this$props","className","course","expandable","onClick","onRemove","onTogglePinned","onToggleExcluded","onSetOverlayCrns","pinnedCrns","excludedCrns","react_default","a","createElement","style","backgroundColor","color","key","id","handleToggleExpanded","values","sections","section","includes","crn","map","dangerouslySetInnerHTML","__html","title","excluded","pinned","onMouseEnter","onMouseLeave","instructors","meetings","meeting","i","days","e","stopPropagation","Component","Section","overlay","preview","mobile","day","top","height","where","Calendar","overlayCrns","crns","src","fill","_","timeToShortString","src_Section_0","Combinations","combinations","onSetPinnedCrns","combination","toConsumableArray","src_Calendar_0","PureComponent","App","courses","objectSpread","loadData","keyword","loaded","tabIndex","isMobile","captureRef","React","createRef","inputRef","handleResize","bind","assertThisInitialized","handleSetPinnedCrns","handleSetOverlayCrns","handleAddCourse","handleChangeKeyword","handlePressEnter","handleRemoveCourse","handleToggleExcluded","handleTogglePinned","handleDownload","axios","get","then","res","data","keys","forEach","courseId","from","to","hex","component","Math","random","toString","getRandomColor","sectionId","push","apply","Set","_period$split","split","_period$split2","lectures","credits","labs","hasLab","startsWith","lecture","lab","every","sectionGroups","groups","sectionGroupMeetings","_ref","sectionGroupHash","JSON","stringify","sectionGroup","hash","distinct","updateCombinations","window","addEventListener","removeEventListener","_ref2$desiredCourses","_ref2","desiredCourses","_ref2$pinnedCrns","_ref2$excludedCrns","Cookies","set","expires","json","parse","_json","_json$desiredCourses","_json$pinnedCrns","_json$excludedCrns","dispatch","_this3","update","updatedState","saveData","dfs","courseIndex","isIncluded","isPinned","hasConflict","some","section1","section2","meeting1","meeting2","pinnedLectures","pinnedLabs","find","toUpperCase","_this4","reduce","innerWidth","tbaCrns","current","focus","target","value","preventDefault","searchCourses","domtoimage","toPng","width","offsetWidth","offsetHeight","left","transform","transform-origin","blob","saveAs","_this5","_this$state","ref","tabTitle","handleChangeTab","getTotalCredits","lib_default","text","src_Course_0","type","onChange","placeholder","onKeyPress","slice","src_Combinations_0","href","rel","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e24ceadb.chunk.js","sourcesContent":["const stringToTime = string => {\n  const [, hour, minute, ampm] = /(\\d{1,2}):(\\d{2}) (a|p)m/.exec(string);\n  return ((ampm === 'p' ? 12 : 0) + Number.parseInt(hour % 12)) * 60 + Number.parseInt(minute);\n};\n\nconst timeToString = (time, ampm = true) => {\n  const hour = time / 60 | 0;\n  const minute = time % 60;\n  return `${hour > 12 ? hour - 12 : hour}:${minute < 10 ? '0' + minute : minute}${ampm ? ` ${hour < 12 ? 'a' : 'p'}m` : ''}`;\n};\n\nconst timeToShortString = time => {\n  const hour = time / 60 | 0;\n  return `${hour > 12 ? hour - 12 : hour}${hour < 12 ? 'a' : 'p'}m`;\n};\n\nconst periodToString = period => period ? `${timeToString(period.start, false)} - ${timeToString(period.end)}` : 'TBA';\n\nconst getRandomColor = (from = 0, to = 256) => {\n  let hex = '#';\n  for (let i = 0; i < 3; i++) {\n    const component = (Math.random() * (to - from) + from | 0).toString(16);\n    hex += (component.length === 1 ? '0' : '') + component;\n  }\n  return hex;\n};\n\nconst hasConflictBetween = (section1, section2) =>\n  section1.meetings.some(meeting1 =>\n    section2.meetings.some(meeting2 =>\n      meeting1.period && meeting2.period &&\n      ['M', 'T', 'W', 'R', 'F'].some(day => meeting1.days.includes(day) && meeting2.days.includes(day)) &&\n      meeting1.period.start < meeting2.period.end && meeting2.period.start < meeting1.period.end));\n\nconst classes = (...classList) => classList.filter(c => c).join(' ');\n\nexport {\n  stringToTime,\n  timeToString,\n  timeToShortString,\n  periodToString,\n  getRandomColor,\n  hasConflictBetween,\n  classes,\n};\n","import React, { Component } from 'react';\nimport './Course.scss';\nimport { classes, periodToString } from './utils';\n\nclass Course extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      expanded: false,\n    };\n  }\n\n  handleToggleExpanded(expanded = !this.state.expanded) {\n    this.setState({ expanded });\n  }\n\n  render() {\n    const { className, course, expandable, onClick, onRemove, onTogglePinned, onToggleExcluded, onSetOverlayCrns, pinnedCrns, excludedCrns } = this.props;\n    const { expanded } = this.state;\n\n    return (\n      <div className={classes('Course', className)} style={{ backgroundColor: course.color }} key={course.id}\n           onClick={onClick}>\n        <div className=\"course-header\" onClick={expandable ? () => this.handleToggleExpanded() : undefined}>\n          <div className=\"row\">\n            <span className=\"course_id\">{course.id}</span>\n            <span className=\"section_ids\">\n              {Object.values(course.sections).filter(section => pinnedCrns.includes(section.crn)).map(section => section.id).join(', ')}\n            </span>\n          </div>\n          <div className=\"row\">\n            <span className=\"course_title\" dangerouslySetInnerHTML={{ __html: course.title }}/>\n            {\n              expandable &&\n              <span className=\"toggle\">{expanded ? '-' : '+'}</span>\n            }\n          </div>\n        </div>\n        {\n          expanded &&\n          <div className=\"sections\">\n            {\n              Object.values(course.sections).map(section => {\n                const excluded = excludedCrns.includes(section.crn);\n                const pinned = pinnedCrns.includes(section.crn);\n                return (\n                  <div className={classes('section', excluded && 'excluded', pinned && 'pinned')}\n                       key={section.id} onClick={() => onTogglePinned(section)}\n                       onMouseEnter={() => onSetOverlayCrns([section.crn])}\n                       onMouseLeave={() => onSetOverlayCrns([])}>\n                    <div className=\"section-header\">\n                      <span className=\"section_id\">{section.id}</span>\n                      <span className=\"instructors\">{section.instructors.join(', ')}</span>\n                    </div>\n                    {\n                      !excluded &&\n                      <div className=\"meetings\">\n                        {\n                          section.meetings.map((meeting, i) => {\n                            return (\n                              <div className=\"meeting\" key={i}>\n                                <span className=\"days\">{meeting.days.join('')}</span>\n                                <span className=\"period\">{periodToString(meeting.period)}</span>\n                              </div>\n                            );\n                          })\n                        }\n                      </div>\n                    }\n                    <div className=\"actions\">\n                      <div className=\"exclude\"\n                           onClick={e => {\n                             e.stopPropagation();\n                             onToggleExcluded(section);\n                           }}>{excluded ? 'Include' : 'Exclude'}</div>\n                    </div>\n                  </div>\n                );\n              })\n            }\n          </div>\n        }\n        {\n          expanded &&\n          <div className=\"actions section-actions\">\n            <div className=\"dim\" onClick={() => onRemove(course)}>Remove</div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default Course;\n","import React, { Component } from 'react';\nimport './Section.scss';\nimport { classes, periodToString } from './utils';\nimport { CLOSE, OPEN } from './constants';\n\nclass Section extends Component {\n  render() {\n    const { className, section, overlay, preview, mobile } = this.props;\n\n    return (\n      <div className={classes('Section', mobile && 'mobile', overlay && 'overlay', className)}>\n        {\n          section.meetings.map((meeting, i) => meeting.period && (\n            meeting.days.map(day => (\n              <div className={`meeting ${day}`} key={[i, day].join('-')}\n                   style={{\n                     top: (meeting.period.start - OPEN) / (CLOSE - OPEN) * 100 + '%',\n                     height: (meeting.period.end - meeting.period.start) / (CLOSE - OPEN) * 100 + '%',\n                     backgroundColor: meeting.course.color,\n                   }}>\n                {\n                  !preview &&\n                  <div className=\"meeting-wrapper\">\n                    <span className=\"course_id\">{meeting.course.id}{mobile ? '' : ` ${meeting.section.id}`}</span>\n                    <span className=\"period\">{periodToString(meeting.period)}</span>\n                    {\n                      !mobile &&\n                      <span className=\"where\">{meeting.where}</span>\n                    }\n                    {\n                      !mobile &&\n                      <span className=\"instructors\">{meeting.instructors.join(', ')}</span>\n                    }\n                  </div>\n                }\n              </div>\n            ))\n          ))\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default Section;\n","const OPEN = 8 * 60;\nconst CLOSE = 21 * 60;\n\nconst PNG_SCALE_FACTOR = 2;\n\nexport {\n  OPEN,\n  CLOSE,\n  PNG_SCALE_FACTOR,\n};\n","import React, { Component } from 'react';\nimport './Calendar.scss';\nimport { CLOSE, OPEN } from './constants';\nimport { classes, timeToShortString } from './utils';\nimport Section from './Section';\n\nclass Calendar extends Component {\n  render() {\n    const { className, pinnedCrns, overlayCrns, crns, preview, mobile } = this.props;\n\n    return (\n      <div className={classes('Calendar', mobile && 'mobile', preview && 'preview', className)}>\n        {\n          preview &&\n          <img className=\"ratio\" src=\"5x2.png\"/>\n        }\n        {\n          !preview &&\n          <div className=\"times\">\n            {\n              new Array((CLOSE - OPEN) / 60).fill(0).map((_, i) => {\n                const time = OPEN + i * 60;\n                return (\n                  <div className=\"time\" key={time}>\n                    <span className=\"label\">\n                      {timeToShortString(time)}\n                    </span>\n                  </div>\n                );\n              })\n            }\n          </div>\n        }\n        {\n          !preview &&\n          <div className=\"days\">\n            {\n              ['M', 'T', 'W', 'R', 'F'].map(day => (\n                <div className=\"day\" key={day}>\n                    <span className=\"label\">\n                      {day}\n                    </span>\n                </div>\n              ))\n            }\n          </div>\n        }\n        <div className=\"meetings\">\n          {\n            pinnedCrns.map(crn => (\n              <Section key={crn} mobile={mobile} section={crns[crn]} preview={preview}/>\n            ))\n          }\n          {\n            overlayCrns.filter(crn => !pinnedCrns.includes(crn)).map(crn => (\n              <Section key={crn} mobile={mobile} section={crns[crn]} overlay preview={preview}/>\n            ))\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default Calendar;\n","import React, { PureComponent } from 'react';\nimport './Combinations.scss';\nimport Calendar from './Calendar';\nimport { classes } from './utils';\n\nclass Combinations extends PureComponent {\n  render() {\n    const { className, combinations, crns, pinnedCrns, onSetOverlayCrns, onSetPinnedCrns } = this.props;\n\n    return (\n      <div className={classes('Combinations', className)}>\n        {\n          combinations.map((combination, i) => (\n            <div className=\"combination\" key={i}\n                 onMouseEnter={() => onSetOverlayCrns(combination)}\n                 onMouseLeave={() => onSetOverlayCrns([])}\n                 onClick={() => onSetPinnedCrns([...pinnedCrns, ...combination])}>\n              <div className=\"number\">{i + 1}</div>\n              <Calendar className=\"preview\" pinnedCrns={[...pinnedCrns, ...combination]} overlayCrns={[]}\n                        crns={crns} key={i} preview/>\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\n\nexport default Combinations;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport domtoimage from 'dom-to-image';\nimport saveAs from 'file-saver';\nimport './App.scss';\nimport { classes, getRandomColor, hasConflictBetween, stringToTime } from './utils';\nimport Course from './Course';\nimport Calendar from './Calendar';\nimport Cookies from 'js-cookie';\nimport { PNG_SCALE_FACTOR } from './constants';\nimport Combinations from './Combinations';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.courses = {};\n    this.crns = {};\n\n    this.state = {\n      ...this.loadData(),\n      combinations: [],\n      overlayCrns: [],\n      keyword: '',\n      loaded: false,\n      tabIndex: 0,\n      mobile: this.isMobile(),\n    };\n\n    this.captureRef = React.createRef();\n    this.inputRef = React.createRef();\n\n    this.handleResize = this.handleResize.bind(this);\n    this.handleSetPinnedCrns = this.handleSetPinnedCrns.bind(this);\n    this.handleSetOverlayCrns = this.handleSetOverlayCrns.bind(this);\n    this.handleAddCourse = this.handleAddCourse.bind(this);\n    this.handleChangeKeyword = this.handleChangeKeyword.bind(this);\n    this.handlePressEnter = this.handlePressEnter.bind(this);\n    this.handleRemoveCourse = this.handleRemoveCourse.bind(this);\n    this.handleToggleExcluded = this.handleToggleExcluded.bind(this);\n    this.handleTogglePinned = this.handleTogglePinned.bind(this);\n    this.handleDownload = this.handleDownload.bind(this);\n  }\n\n  componentDidMount() {\n    const distinct = sections => {\n      let groups = {};\n      sections.forEach(section => {\n        const sectionGroupMeetings = section.meetings.map(({ days, period }) => ({ days, period }));\n        const sectionGroupHash = JSON.stringify(sectionGroupMeetings);\n        const sectionGroup = groups[sectionGroupHash];\n        if (sectionGroup) {\n          sectionGroup.sections.push(section);\n        } else {\n          groups[sectionGroupHash] = {\n            hash: sectionGroupHash,\n            meetings: sectionGroupMeetings,\n            sections: [section],\n          };\n        }\n      });\n      return groups;\n    };\n\n    axios.get('./courses.json')\n      .then(res => {\n        const crns = {};\n        const courses = res.data;\n        Object.keys(courses).forEach(courseId => {\n          const course = courses[courseId];\n          course.id = courseId;\n          course.color = getRandomColor(32, 160);\n          Object.keys(course.sections).forEach(sectionId => {\n            const section = course.sections[sectionId];\n            section.id = sectionId;\n            section.course = course;\n            const instructors = [];\n            section.meetings.forEach(meeting => instructors.push(...meeting.instructors));\n            section.instructors = [...new Set(instructors)];\n            crns[section.crn] = section;\n            section.meetings.forEach(meeting => {\n              meeting.course = course;\n              meeting.section = section;\n              const { days, period } = meeting;\n              if (days === '&nbsp;') {\n                meeting.days = [];\n              } else {\n                meeting.days = [...days];\n              }\n              if (period === 'TBA') {\n                meeting.period = undefined;\n              } else {\n                const [start, end] = period.split(' - ');\n                meeting.period = {\n                  start: stringToTime(start),\n                  end: stringToTime(end),\n                };\n              }\n            });\n          });\n          const sections = Object.values(course.sections);\n          const lectures = sections.filter(section => section.credits > 0);\n          const labs = sections.filter(section => section.credits === 0);\n          course.hasLab = !course.id.startsWith('VIP') && lectures.length && labs.length;\n          if (course.hasLab) {\n            course.lectures = lectures;\n            course.labs = labs;\n            course.lectures.forEach(lecture => lecture.labs = course.labs.filter(lab => lab.id.startsWith(lecture.id)));\n            course.labs.forEach(lab => lab.lectures = course.lectures.filter(lecture => lab.id.startsWith(lecture.id)));\n            if (course.lectures.every(lecture => !lecture.labs.length)) {\n              course.lectures.forEach(lecture => lecture.labs = course.labs);\n              course.labs.forEach(lab => lab.lectures = course.lectures);\n            }\n          } else {\n            course.sectionGroups = distinct(sections);\n          }\n        });\n\n        this.courses = courses;\n        this.crns = crns;\n        this.updateCombinations({ loaded: true });\n      });\n\n    window.addEventListener('resize', this.handleResize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  saveData({ desiredCourses = [], pinnedCrns = [], excludedCrns = [] }) {\n    Cookies.set('data', JSON.stringify({ desiredCourses, pinnedCrns, excludedCrns }), { expires: 365 });\n  }\n\n  loadData() {\n    let json = null;\n    try {\n      json = JSON.parse(Cookies.get('data'));\n    } catch (e) {\n      json = {};\n    }\n    const { desiredCourses = [], pinnedCrns = [], excludedCrns = [] } = json;\n    return { desiredCourses, pinnedCrns, excludedCrns };\n  }\n\n  updateCombinations(dispatch) {\n    this.setState(state => {\n      const update = typeof dispatch === 'function' ? dispatch(state) : dispatch;\n      const updatedState = { ...state, ...update };\n      const { desiredCourses, pinnedCrns, excludedCrns } = updatedState;\n      this.saveData(updatedState);\n      const combinations = [];\n      const dfs = (courseIndex = 0, combination = []) => {\n        if (courseIndex === desiredCourses.length) {\n          combinations.push(combination);\n          return;\n        }\n        const course = this.courses[desiredCourses[courseIndex]];\n        const isIncluded = section => !excludedCrns.includes(section.crn);\n        const isPinned = section => pinnedCrns.includes(section.crn);\n        const hasConflict = section => [...pinnedCrns, ...combination].some(crn => hasConflictBetween(this.crns[crn], section));\n        if (course.hasLab) {\n          const pinnedLectures = course.lectures.filter(isPinned);\n          const pinnedLabs = course.labs.filter(isPinned);\n          if (pinnedLabs.length) {\n            pinnedLabs.forEach(lab => {\n              lab.lectures.filter(isIncluded).forEach(lecture => {\n                if (isPinned(lecture)) {\n                  dfs(courseIndex + 1, combination);\n                } else {\n                  if (hasConflict(lecture)) return;\n                  dfs(courseIndex + 1, [...combination, lecture.crn]);\n                }\n              });\n            });\n          } else if (pinnedLectures.length) {\n            pinnedLectures.forEach(lecture => {\n              lecture.labs.filter(isIncluded).forEach(lab => {\n                if (hasConflict(lab)) return;\n                dfs(courseIndex + 1, [...combination, lab.crn]);\n              });\n            });\n          } else {\n            course.lectures.filter(isIncluded).forEach(lecture => {\n              if (hasConflict(lecture)) return;\n              lecture.labs.filter(isIncluded).forEach(lab => {\n                if (hasConflict(lab)) return;\n                dfs(courseIndex + 1, [...combination, lecture.crn, lab.crn]);\n              });\n            });\n          }\n        } else {\n          const sections = Object.values(course.sections);\n          if (sections.some(isPinned)) {\n            dfs(courseIndex + 1, combination);\n          } else {\n            Object.values(course.sectionGroups).forEach(sectionGroup => {\n              const section = sectionGroup.sections.find(isIncluded);\n              if (!section || hasConflict(section)) return;\n              dfs(courseIndex + 1, [...combination, section.crn]);\n            });\n          }\n        }\n      };\n      dfs();\n      return { ...update, combinations };\n    });\n  }\n\n  searchCourses(keyword) {\n    return Object.values(this.courses).filter(course => course.id.startsWith(keyword.toUpperCase()));\n  }\n\n  getTotalCredits() {\n    const { pinnedCrns } = this.state;\n    return pinnedCrns.reduce((credits, crn) => credits + this.crns[crn].credits, 0);\n  }\n\n  isMobile() {\n    return window.innerWidth < 768;\n  }\n\n  handleResize(e) {\n    const mobile = this.isMobile();\n    this.setState({ mobile });\n  }\n\n  handleRemoveCourse(course) {\n    this.updateCombinations(state => {\n      const desiredCourses = state.desiredCourses.filter(courseId => courseId !== course.id);\n      const pinnedCrns = state.pinnedCrns.filter(crn => !Object.values(course.sections).some(section => section.crn === crn));\n      const excludedCrns = state.excludedCrns.filter(crn => !Object.values(course.sections).some(section => section.crn === crn));\n      return { desiredCourses, pinnedCrns, excludedCrns };\n    });\n  }\n\n  handleAddCourse(course) {\n    this.updateCombinations(state => {\n      const { desiredCourses, excludedCrns } = state;\n      if (!desiredCourses.includes(course.id)) {\n        const tbaCrns = Object.values(course.sections)\n          .filter(section => !section.meetings.length || section.meetings.some(meeting => !meeting.days.length || !meeting.period))\n          .map(section => section.crn);\n        return {\n          keyword: '',\n          desiredCourses: [...desiredCourses, course.id],\n          excludedCrns: [...excludedCrns, ...tbaCrns],\n        };\n      }\n      return { keyword: '' };\n    });\n    this.inputRef.current.focus();\n  }\n\n  handleTogglePinned(section) {\n    this.updateCombinations(state => {\n      const { pinnedCrns, excludedCrns } = state;\n      if (pinnedCrns.includes(section.crn)) {\n        return { pinnedCrns: pinnedCrns.filter(crn => crn !== section.crn) };\n      } else {\n        return {\n          pinnedCrns: [...pinnedCrns, section.crn],\n          excludedCrns: excludedCrns.filter(crn => crn !== section.crn),\n        };\n      }\n    });\n  }\n\n  handleToggleExcluded(section) {\n    this.updateCombinations(state => {\n      const { pinnedCrns, excludedCrns } = state;\n      if (excludedCrns.includes(section.crn)) {\n        return { excludedCrns: excludedCrns.filter(crn => crn !== section.crn) };\n      } else {\n        return {\n          excludedCrns: [...excludedCrns, section.crn],\n          pinnedCrns: pinnedCrns.filter(crn => crn !== section.crn),\n        };\n      }\n    });\n  }\n\n  handleChangeKeyword(e) {\n    const keyword = e.target.value;\n    this.setState({ keyword });\n  }\n\n  handlePressEnter(e) {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      const courses = this.searchCourses(this.state.keyword);\n      if (courses.length) this.handleAddCourse(courses[0]);\n    }\n  }\n\n  handleSetPinnedCrns(pinnedCrns) {\n    this.updateCombinations({ pinnedCrns });\n  }\n\n  handleSetOverlayCrns(overlayCrns) {\n    this.setState({ overlayCrns });\n  }\n\n  handleDownload() {\n    const { current } = this.captureRef;\n    domtoimage.toPng(current, {\n      width: current.offsetWidth * PNG_SCALE_FACTOR,\n      height: current.offsetHeight * PNG_SCALE_FACTOR,\n      style: {\n        'left': 0,\n        'transform': `scale(${PNG_SCALE_FACTOR})`,\n        'transform-origin': 'top left',\n      },\n    }).then(blob => saveAs(blob, 'schedule.png'));\n  }\n\n  handleChangeTab(tabIndex) {\n    this.setState({ tabIndex });\n  }\n\n  render() {\n    const { pinnedCrns, excludedCrns, desiredCourses, combinations, overlayCrns, keyword, loaded, tabIndex, mobile } = this.state;\n\n    return loaded && (\n      <div className={classes('App', mobile && 'mobile')}>\n        {\n          !mobile &&\n          <div className=\"calendar-container\">\n            <Calendar pinnedCrns={pinnedCrns} overlayCrns={overlayCrns} crns={this.crns}/>\n          </div>\n        }\n        <div className=\"capture-container\" ref={this.captureRef}>\n          <Calendar className=\"fake-calendar\" pinnedCrns={pinnedCrns} overlayCrns={overlayCrns} crns={this.crns}/>\n        </div>\n        <div className=\"sidebar\">\n          {\n            mobile &&\n            <div className=\"tab-container\">\n              {\n                ['Courses', 'Combinations', 'Calendar'].map((tabTitle, i) => (\n                  <div className={classes('tab', tabIndex === i && 'active')} onClick={() => this.handleChangeTab(i)}\n                       key={i}>\n                    {tabTitle}\n                  </div>\n                ))\n              }\n            </div>\n          }\n          <div className=\"title\">\n            <span className=\"primary\">Spring 2019</span>\n            <span className=\"secondary\">\n              {this.getTotalCredits()} Credits\n            </span>\n          </div>\n          <div className=\"scroller\">\n            <div className={classes('courses-container', tabIndex === 0 && 'active')}>\n              {\n                pinnedCrns.length > 0 &&\n                <CopyToClipboard className=\"button\" text={pinnedCrns.join(', ')}>\n                  <span>{pinnedCrns.join(', ')}</span>\n                </CopyToClipboard>\n              }\n              <div className=\"course-list\">\n                {\n                  desiredCourses.map(courseId => {\n                    const course = this.courses[courseId];\n                    return (\n                      <Course course={course} expandable key={course.id}\n                              onRemove={this.handleRemoveCourse}\n                              onTogglePinned={this.handleTogglePinned}\n                              onToggleExcluded={this.handleToggleExcluded}\n                              onSetOverlayCrns={this.handleSetOverlayCrns}\n                              pinnedCrns={pinnedCrns}\n                              excludedCrns={excludedCrns}/>\n                    );\n                  })\n                }\n              </div>\n              <div className=\"course-add\">\n                <input type=\"text\" ref={this.inputRef} value={keyword} onChange={this.handleChangeKeyword}\n                       className=\"keyword\"\n                       placeholder=\"XX 0000\" onKeyPress={this.handlePressEnter}/>\n                <div className=\"autocomplete\">\n                  {\n                    keyword &&\n                    this.searchCourses(keyword).slice(0, 10).map(course => (\n                      <Course course={course} onClick={() => this.handleAddCourse(course)} key={course.id}\n                              pinnedCrns={pinnedCrns}/>\n                    ))\n                  }\n                </div>\n              </div>\n            </div>\n            <div className={classes('combinations-container', tabIndex === 1 && 'active')}>\n              {\n                pinnedCrns.length > 0 &&\n                <div className=\"button\" onClick={() => this.handleSetPinnedCrns([])}>\n                  Reset Sections\n                </div>\n              }\n              <Combinations className=\"combinations\" combinations={combinations}\n                            crns={this.crns} pinnedCrns={pinnedCrns}\n                            onSetOverlayCrns={this.handleSetOverlayCrns}\n                            onSetPinnedCrns={this.handleSetPinnedCrns}/>\n            </div>\n            {\n              mobile &&\n              <div className={classes('mobile', 'calendar-container', tabIndex === 2 && 'active')}>\n                <Calendar mobile pinnedCrns={pinnedCrns} overlayCrns={overlayCrns} crns={this.crns}/>\n              </div>\n            }\n          </div>\n          <div className=\"button\" onClick={this.handleDownload}>\n            Download as PNG\n          </div>\n          <a className=\"button\" href=\"https://github.com/parkjs814/gt-scheduler\" rel=\"noopener\" target=\"_blank\">\n            Fork me on GitHub\n          </a>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}